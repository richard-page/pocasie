
<!DOCTYPE html>
<html lang="sk">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Interaktívna mapa počasia - Slovensko</title>
    <script src="https://cdn.tailwindcss.com"></script>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />

/* Aplikovanie vlastného fontu a farieb */
body {
  font-family: 'Poppins', sans-serif;
  background-color: #002043;
  color: #ffffff;
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
  margin: 0;
  padding: 1rem;
  box-sizing: border-box;
}
.main-container {
  width: 100%;
  max-width: 1000px;
}
.top-bar {
  display: flex;
  justify-content: flex-end;
  margin-bottom: 1rem;
}

.location-button {
  background-color: transparent;
  color: #fff;
  border: 2px solid #3b9af8;
  border-radius: 25px;
  padding: 10px 20px;
  font-family: 'Poppins', sans-serif;
  font-size: 0.9rem;
  font-weight: 500;
  cursor: pointer;
  text-decoration: none;
  display: inline-flex;
  align-items: center;
  gap: 8px;
  transition: background-color 0.3s ease, color 0.3s ease;
}
.location-button i {
  color: #fff;
}
.location-button:hover {
  background-color: #3b9af8;
  color: #fff;
}

.map-wrapper {
  display: flex;
  gap: 1rem;
  align-items: flex-start;
}

/* Kontajner pre mapu */
.map-container {
  position: relative;
  width: 100%;
  flex-grow: 1;
  box-sizing: border-box;
  border-radius: 16px;
  overflow: hidden; /* Ensures canvas animation stays within borders */
}
#weather-animation-canvas {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 2;
}

/* Štýlovanie SVG mapy */
svg {
  position: relative;
  z-index: 1;
  width: 100%;
  height: auto;
  transition: viewbox 0.5s ease-in-out;
}

svg path {
  fill: #1A518A;
  stroke: #002043;
  stroke-width: 2;
  transition: fill 0.3s ease, opacity 0.5s ease;
}

svg path:hover {
  fill: #3b9af8;
  cursor: pointer;
}

.weather-marker {
  position: absolute;
  display: flex;
  flex-direction: column;
  align-items: center;
  transform: translate(-50%, -80%);
  transition: transform 0.2s ease, opacity 0.3s ease, width 0.3s ease;
  cursor: pointer;
  width: 80px;
  z-index: 3;
}

.weather-marker:hover {
  transform: translate(-50%, -80%) scale(1.1);
  z-index: 10;
}

.icon-container {
  position: relative;
}

.weather-marker img {
  width: 45px;
  height: 45px;
  filter: drop-shadow(0 4px 6px rgba(0,0,0,0.4));
  transition: width 0.3s ease, height 0.3s ease;
}

.warning-icons {
  position: absolute;
  top: -2px;
  right: -5px;
  display: flex;
  flex-direction: column;
  gap: 2px;
  transition: all 0.3s ease;
}

.warning-icons i {
  font-size: 10px;
  padding: 2px;
  border-radius: 50%;
  background-color: rgba(0,0,0,0.5);
  text-shadow: 0 0 2px black;
}

.weather-marker .city-name {
  font-size: 11px;
  font-weight: 500;
  color: #fff;
  text-shadow: 0 1px 3px rgba(0,0,0,0.7);
  transition: font-size 0.3s ease;
}

.temperature {
  font-size: 14px;
  font-weight: 700;
  color: #000;
  padding: 2px 8px;
  border-radius: 25px;
  margin-top: 2px;
  display: inline-block;
  box-shadow: 0 1px 3px rgba(0,0,0,0.3);
  transition: font-size 0.3s ease, padding 0.3s ease;
}
.temperature.hot {
  color: #fff;
}

.loader-container {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 32, 67, 0.9);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 200;
  transition: opacity 0.5s ease, visibility 0.5s;
  opacity: 1;
  visibility: visible;
}
.loader-container.hidden {
  opacity: 0;
  visibility: hidden;
}
.loader {
  border: 5px solid #f3f3f3;
  border-top: 5px solid #3b9af8;
  border-radius: 50%;
  width: 50px;
  height: 50px;
  animation: spin 1s linear infinite;
}
@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

/* Sekcia pod mapou */
.info-footer {
  margin-top: 1.5rem;
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
}

.header-container {
  display: flex;
  align-items: baseline;
  gap: 0.75rem;
  flex-basis: 100%;
  flex-wrap: wrap;
}

.header-container h1 {
  font-size: 2rem;
  font-weight: 700;
  margin: 0;
  color: #fff;
  text-shadow: 0 2px 4px rgba(0,0,0,0.2);
}

.header-container .time-display {
  font-size: 2rem;
  font-weight: 300;
  color: rgba(255,255,255,0.7);
}

.cards-container {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 1.5rem;
  align-items: start;
}

.info-card {
  padding: 1rem 1.5rem;
  background-color: rgba(59, 154, 248, 0.15);
  border: 1px solid rgba(59, 154, 248, 0.3);
  border-radius: 16px;
}

.info-card h2 {
  font-size: 1.1rem;
  font-weight: 600;
  margin: 0 0 10px 0;
}

#event-details .event-item {
  display: flex;
  align-items: center;
  gap: 0.75rem; /* 12px */
  padding: 0.75rem; /* 12px */
  border-radius: 0.75rem; /* 12px */
  font-size: 0.875rem; /* 14px */
  margin-bottom: 0.5rem;
}
#event-details .event-item i {
  font-size: 1.125rem; /* 18px */
}
#event-details .event-item .font-bold {
  font-weight: 600;
}
#event-details .event-item > div {
  line-height: 1.3;
}
#event-details .event-item > div p {
  margin: 0;
}

.info-card i {
  font-size: 1.2rem;
  width: 20px;
  text-align: center;
  color: #3b9af8;
}

#mountain-weather-container .altitude-level {
  display: flex;
  align-items: center;
  gap: 10px;
}
#mountain-weather-container .altitude-level img {
  width: 30px;
  height: 30px;
}
#mountain-weather-container .altitude-level:not(:last-child) {
  margin-bottom: 0.5rem;
}
#mountain-weather-container .altitude-level span {
  font-weight: 600;
}

/* Carousel */
.carousel-wrapper {
  position: relative;
  padding: 0 35px;
}
.carousel-container {
  display: flex;
  gap: 0.75rem;
  overflow-x: auto;
  scroll-behavior: smooth;
  -ms-overflow-style: none;
  scrollbar-width: none;
  padding-block: 5px;
}
.carousel-container::-webkit-scrollbar {
  display: none;
}
.carousel-arrow {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  background-color: rgba(59, 154, 248, 0.5);
  border: none;
  color: white;
  width: 30px;
  height: 30px;
  border-radius: 50%;
  cursor: pointer;
  z-index: 10;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: background-color 0.2s;
}
.carousel-arrow:hover {
  background-color: rgba(59, 154, 248, 0.8);
}
.arrow-left { left: 0; }
.arrow-right { right: 0; }

.day-card {
  flex: 0 0 100px;
  padding: 0.75rem;
  background-color: #003773;
  border-radius: 16px;
  text-align: center;
  cursor: pointer;
  transition: background-color 0.3s;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
}
.day-card.active {
  background-color: #3b9af8;
}
.day-card:hover {
  background-color: #004a99;
}
.day-card .date { font-size: 0.9rem; font-weight: 500; }
.day-card img { width: 40px; height: 40px; margin: 8px auto; }
.day-card .temps {
  font-size: 1rem;
  font-weight: 600;
  color: #fff;
  text-shadow: 0 1px 2px rgba(0,0,0,0.5);
}
.day-card .temp-gradient {
  height: 4px;
  border-radius: 2px;
  margin-top: 8px;
}

/* Modal */
#details-modal {
  position: fixed; inset: 0; background-color: rgba(0,0,0,0.7);
  display: flex; align-items: center; justify-content: center;
  z-index: 100; opacity: 0; visibility: hidden;
  transition: opacity 0.3s, visibility 0.3s;
}
#details-modal.visible { opacity: 1; visibility: visible; }
#details-modal-content {
  background-color: #003773;
  border: 1px solid #3b9af8;
  padding: 1.5rem; border-radius: 16px;
  width: 90%; max-width: 500px; transition: transform 0.3s;
  transform: scale(0.95);
}
#details-modal.visible #details-modal-content { transform: scale(1); }
.modal-header {
  display: flex; justify-content: space-between; align-items: center;
  border-bottom: 1px solid rgba(255,255,255,0.3);
  padding-bottom: 0.5rem; margin-bottom: 1rem;
}
.modal-header h3 { font-size: 1.5rem; font-weight: 600; color: #fff; display: flex; align-items: center; gap: 10px; margin: 0;}
.modal-header button { background: none; border: none; font-size: 2rem; color: #fff; cursor: pointer; line-height: 1; }
#modal-body { display: grid; grid-template-columns: 1fr 1fr; gap: 0.75rem; }
.detail-item { background: rgba(0, 32, 67, 0.5); padding: 0.75rem; border-radius: 8px; }
.detail-item .label { font-size: 0.8rem; color: rgba(255,255,255,0.7); }
.detail-item .value { font-size: 1.1rem; font-weight: 600; display: flex; align-items: center; gap: 5px; }

/* Day/Night Toggle */
.view-toggle {
  display: flex;
  background-color: #003773;
  border-radius: 25px;
  padding: 4px;
  margin-top: 10px;
}
.toggle-btn {
  font-family: 'Poppins', sans-serif;
  background: none;
  border: none;
  color: #fff;
  padding: 8px 12px;
  border-radius: 20px;
  cursor: pointer;
  transition: background-color 0.3s, color 0.3s;
  font-size: 0.8rem;
  display: flex;
  align-items: center;
  gap: 5px;
}
.toggle-btn.active {
  background-color: #3b9af8;
  color: #fff;
  font-weight: 600;
}
#time-of-day-toggle {
  display: none; /* Initially hidden */
}

.cards-column-wrapper {
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
}

#back-to-map-btn {
  position: absolute;
  top: 15px;
  left: 15px;
  z-index: 10;
  background: rgba(0,0,0,0.5);
  color: white;
  border: 1px solid #3b9af8;
  border-radius: 50%;
  width: 40px;
  height: 40px;
  cursor: pointer;
  display: none; /* Initially hidden */
  align-items: center;
  justify-content: center;
  font-size: 1.2rem;
}
#back-to-map-btn.visible {
  display: flex;
}

/* Responzivita */
@media (max-width: 768px) {
  .map-wrapper { flex-direction: column; }
  .header-container h1, .header-container .time-display { font-size: 1.5rem; }
  .weather-marker {
    width: 50px;
    transform: translate(-50%, -80%) scale(0.8);
  }
  .weather-marker.enlarged {
    width: 80px;
    transform: translate(-50%, -80%) scale(1);
    z-index: 15;
  }
  .weather-marker img { width: 30px; height: 30px; }
  .weather-marker.enlarged img { width: 45px; height: 45px; }
  .weather-marker .city-name { display: none; }
  .weather-marker.enlarged .city-name { display: block; font-size: 9px; }
  .temperature { font-size: 9px; padding: 1px 5px; }
  .weather-marker.enlarged .temperature { font-size: 10px; padding: 1px 6px; }
  .warning-icons i { font-size: 7px; }
  .weather-marker.enlarged .warning-icons i { font-size: 8px; }
  .toggle-btn { padding: 6px 10px; font-size: 0.7rem; }
}
@media (max-width: 850px) {
  .cards-container { grid-template-columns: 1fr; }
}

/* Štýly pre blok udalostí */
.info-card.events-card {
  background-color: rgba(0, 32, 67, 0.5); /* Tmavší podklad pre odlíšenie */
  border: 1px solid rgba(59, 154, 248, 0.3);
  border-radius: 16px;
  padding: 1rem 1.5rem;
}

#event-details .event-item {
  display: flex;
  align-items: flex-start; /* Zmenené na 'flex-start' pre lepšie zarovnanie dlhších textov */
  gap: 0.75rem;
  padding: 0.75rem;
  border-radius: 0.75rem;
  font-size: 0.875rem;
  margin-bottom: 0.5rem;
  line-height: 1.4;
}

#event-details .event-item i {
  font-size: 1.125rem;
  margin-top: 2px;
}

/* Forecast text section */
#forecast-output h2 {
  font-weight: 600;
  font-size: 1.75rem; /* 28px */
  margin-bottom: 1rem;
  padding-bottom: 0.5rem;
  border-bottom: 1px solid #e2e8f0;
}
#forecast-output h3 {
  font-weight: 600;
  font-size: 1.25rem; /* 20px */
  margin-top: 1.5rem;
  margin-bottom: 0.75rem;
  color: #fff;
}
.prose {
  max-width: 100%;
  line-height: 1.6;
}
.day-btn.active {
  background-color: #1e40af;
  color: white;
  font-weight: 600;
  box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
}
h1, h2, h3 {
  font-family: 'Poppins', sans-serif;
}
</style>
</head>
<body>
<div class="main-container">
<div class="loader-container" id="loader">
<div class="loader"></div>
</div>
<div class="top-bar">
<a href="#" class="location-button">
<i class="fa-solid fa-magnifying-glass"></i>
Predpoveď pre lokalitu
</a>
</div>
<div class="map-wrapper">
<div class="map-container" id="map-container">
<button id="back-to-map-btn"><i class="fa-solid fa-arrow-left"></i></button>
<canvas id="weather-animation-canvas"></canvas>
<div id="weather-overlay"></div>
<svg id="slovakia-svg" baseProfile="tiny" projection="equirectangular" version="1.2" viewBox="0 0 1000 494" xmlns="http://www.w3.org/2000/svg">
    <path id="Bratislavsky" name="Bratislavský" d="M74.2 425.7l-7.2-2-6.4-1.4-6.4 3.9-4-3.7-5.7-2-4-2.2 0.9-4.3-2.1-1.8-0.7-0.4 1-4.9 0.9-2.7 1.8-2.2-2.3-2.4-3.4-6.4-1.9-1.2-2.8-0.4-2.4-1.5-4.4-4.8-1.3-4.1 0-5.7-0.8-4.8-2.7-9.5-0.1-1.2 0.2-3-0.1-1.2-0.7-0.9-1.1-0.4-1.9-1.7-1.6-0.8-1.4-0.8-0.5-1.6-0.3-1.2-0.5-1.5-0.6-1.3-0.5-0.6-0.7-0.5 0.3-1.4 0.7-1.5 0.4-1.2-0.8-2-1.8-2.1-1.9-1.5-1-0.6-3.5-0.3-1.4-0.9-0.5-1.6 0.1-2.9 0.3-1.2 0.5-0.7 0.4-1.7 1.6-14.1 0.7-3.8 1.8-3.6 4.5-6.6 1-3.5 1.3-2.5 2.9-2.4 2.8-3 0.4-1.4 0.6 0 10.6-3.3 7.9-0.4 0.6-0.1 0.1-0.4-0.2-0.7-0.5-1.2 1.1-0.1 2.3 0.6 7.6 3.7 1.8 0.6 1-0.2 7.3-3.2 2.4-1.5 3.1-0.9 2.2-0.1 1.3-0.4 0.8-0.7 0.7-1.7 0.7-0.8 0.7-0.5 1.6-0.8 1.4-0.9 0.6-0.8 0.4-1.1 0.7-1.1 0.8-0.8 1.1-0.8 1-0.3 0.3-0.6 5-8.1 1.5-2 1.1-0.9 0.9 0.2 1.2 1 1.8 0.6 0.6 0.3 0.6 0.5 0.8 0.8 0.6 1 0.7 1.3 0.4 1.9 0.1 2.5-1 3-0.9 1.8-3.1 4.2-0.6 0.6-0.5 0.3-1.2 0-0.6 0.1-0.3 0.4-1.2 3.3-0.8 0.9-1.9 1 0 1.6-0.9 2.1 9.6 9.5-1.7 1.1-0.7 0.7-0.8 1.2-2.7 4.2-1.5 3 0.6 3 2.3 0.9 2.4 0 0.4 0 0.7 0.5 0.5 0.6 1.3 0.9 1 1 0.5 0.4 0.7 0.1 3.1 0.1 0.6 0.4 0.1 0.5-0.4 1.1-0.4 0.5-0.1 0.5 0.3 0.6 1.7 1.4 0.6 0.6 1.2 1.9 1.4 1.4 0.7 1.3 3 5.9 0.7 0.9 0.5 0.5 1 0 0.7 0.3 0.6 0.6 1 1.1 0.5 0.9 0.5 0.9 0.4 0.5 0 1.1-0.4 1.4-1.5 3.5-1.3 2.3-0.1 1.1 1 3 9.5 7.7-4.8 5.8-0.8 1.6-0.2 1.4 0.4 2.3 0.3 0.9 0.4 0.4 0.8 0.2 3.6 1.7 0.4 0.9 0 1.1-0.4 2.9 0.4 1 0.4 0.4 0.8-0.2 0.5 0.2 0.6 1 0 0.8-0.2 1.2-1.1 2.9-0.6 1.1-0.7 0.6-0.9-0.3-2 0.6-5.5 4.3-4.7 2.1-0.8 0-0.8-0.3-1.3-1-0.8-0.4-2.4-0.3-0.5-0.2-0.2-0.7 0.2-0.5 0.7-1.4-0.4-1.4-0.3-0.8-0.3-0.1-0.6 0.2-1 0.7-0.8 0.3-0.6 0.4-0.4 0.7-0.5 2.6 0.1 0.7 0.4 1 0.8 0.9 0.6 1 0.1 0.3-0.3 0.5-0.5 0.5-1.1 0.5-0.6 0.2-0.8 0.3-0.7 0.6-1.3 1.3-1.7 1.1-0.8 0.2-1.9 0.1-4.2-1-0.6 0-0.3 0.2-0.1 0.4 1 1.7 0 1.2-0.3 1.1 0 1.1 0.2 0.4 1.4 1 1 1 0.8 0.3 2.8-0.2 0.6 0.2 0.5 0.8-0.1 0.2-0.7 0.8-2 1.2-2.6 2.2-1.3 0.6-0.8 0-0.5-0.2-0.4 0.1-0.2 0.5-0.1 1.6 0.2 1 0.3 1.1-0.1 0.6-0.6 0.5-1.8 1.1-1 0.7-3.2 3.9-1 6.7z" />
    <path id="Trnavsky" name="Trnavský" d="M100.3 208.2l-0.5 1.6-1.6 3.9-1.8 2.5-5.5 5.3 3.8 1.5 2.1 0.5 1-0.1 0.6-0.5 2.9-3.7 0.9 0.1 0.9 1 2.1 2.9 1.7 1.9 0.9 0.7 0.4 0.2 1.5 0.4 0.6 0.4 0.7 0.9 1.4 2 0.9 1.7 0.6 1.7-0.1 1.8-0.3 0.7-0.7 0.7-0.3 0.5-0.2 1-1 1.9-0.3 0.7-0.3 1 0.1 0.6 0.3 0.7 1 0.8 0.5 0.8 0.5 3 1.2 1.7 1.7 1.7 2 2.8 3.8 8.4 4.1-3.6 1.1-0.7 0.7-0.6 0.9-0.1 2.5 1.4 5.7-1.8 0.5-0.9 0.5-0.7 0-1 0-0.7 0-0.9 0-1.2 0.3-0.9 0.7 0 1.2 1.4 0.4 0.1 1.7 0 0.6-0.1 0.5-0.2 1.1-1 5.5-2.4 2.9-0.8 2.3 1.2 1.6 1.9 1.9 3.5 0.3 0.5 0.6 0.4 3.3 1.6 3.2 0.5 6.1-0.2 1-0.2 0.1-0.4-0.2-1.1 0.3-0.5 0.5 0.1 0.6 0.5 1.4 1.3 1.4 2.3 0.8 0.7 0.6 0.2 1-0.3 1.3-0.7 0.9 0.1 0.9 0.4 1.1 1.3 0.7 1.1 17 3.7 0.4 1.7 0.4 1-0.4 0.6-0.9 0.6-8.1 3.3-1.5 0.2-1-0.1-2.3-1.6-0.5-0.2-0.6-0.1-0.8 1.4-5.3 13.9-0.4 0.6-3 3.4 7.7 4 0.5 0.1 0.7 0.4 3.8 3.1 7.8 8-3.8 4.3-12.4 22.4-2.9 2.9-0.8 4-0.4 1.8-0.1 1-0.7 4.4-0.3 0.7-0.8 0.9 0.5 1.4 4.5 4.1-1.2 2.1-0.7 1.1-0.3 0.8 0 0.6 0.4 0.8 0 0.7-0.5 0.9-0.5 0.5-0.2 0.8 0.2 1 0.7 2.1 0.5 0.7 0.4 0.5 0.5 0.1 0.4 0.4 1.8 1.8 0.6 0.8 0.3 1.1-0.1 1.4-0.5 1.9-0.5 1-0.8 0.6-2.8 1.7-2 1.6-0.5 0.1-0.3-0.2-2.5-3-0.4-0.3-0.4 0.1-0.6 0.4-1.3 0.6 0.1 0.8 0.4 1.2 1.5 2.9 0.6 1.5-0.1 1.5-0.4 1.3-0.8 0.8-1 0.5-1-0.1-1.2-0.8-1.2-0.6-0.7-0.1-0.9 0.1-2.9 1.1-0.6 0.8 0 1 7.7 8.5 1 1.8-0.1 2.2-1.4 3.6-0.4 1 0.2 0.8 0.4 0.7 1.2 1 0.8 0.3 0.9-0.1 2.9-1 1.1-0.2 0.5 0.3 0.4 1-0.7 2-0.1 0.7 0.3 0.4 0.7 0.7 0.6 0.2 1.2 0.1 0.8 0.3 0.9 0 0.9 0.5 0.4 1.1 0.1 1.4-0.8 5.7 1.2 9.1-0.5 6.8 1.3 1.1 0.4 1.8 0 1-0.6 1.7-0.4 3.1 1.2 2 0.5 1.2-0.2 1-1.1 1-2.9 1.9-4.2 3.8-2 2.9-1.3 1-0.7 0.3-0.3-0.1-0.5 0.2-1.5 1.5-0.6 1.2-0.6 1.8-0.1 5.6-0.7 1.1-1.3 1.2-3.3 2.6-1.4 0.8-1.1 0.3-0.4-0.2-1.1-0.1-0.7-0.4-0.4-0.1-0.4 0.4-0.4 0.9-1.2 6.1-0.7 1.9-1.4 1.5-7.5-4-1.8-2.1-1.4-2.7-3.2-3.1-3.7-2.6-2.6-1.3-1.9 0.3-1.8 0.9-1.8 0-2.1-2.2-6-8.9-1.6-1.1-4.4-0.9-1.8-0.8-1.7-1.6-18-24.2-5.5-4.5-11.5-1.8-1.8-0.5 1-6.7 3.2-3.9 1-0.7 1.8-1.1 0.6-0.5 0.1-0.6-0.3-1.1-0.2-1 0.1-1.6 0.2-0.5 0.4-0.1 0.5 0.2 0.8 0 1.3-0.6 2.6-2.2 2-1.2 0.7-0.8 0.1-0.2-0.5-0.8-0.6-0.2-2.8 0.2-0.8-0.3-1-1-1.4-1-0.2-0.4 0-1.1 0.3-1.1 0-1.2-1-1.7 0.1-0.4 0.3-0.2 0.6 0 4.2 1 1.9-0.1 0.8-0.2 1.7-1.1 1.3-1.3 0.7-0.6 0.8-0.3 0.6-0.2 1.1-0.5 0.5-0.5 0.3-0.5-0.1-0.3-0.6-1-0.8-0.9-0.4-1-0.1-0.7 0.5-2.6 0.4-0.7 0.6-0.4 0.8-0.3 1-0.7 0.6-0.2 0.3 0.1 0.3 0.8 0.4 1.4-0.7 1.4-0.2 0.5 0.2 0.7 0.5 0.2 2.4 0.3 0.8 0.4 1.3 1 0.8 0.3 0.8 0 4.7-2.1 5.5-4.3 2-0.6 0.9 0.3 0.7-0.6 0.6-1.1 1.1-2.9 0.2-1.2 0-0.8-0.6-1-0.5-0.2-0.8 0.2-0.4-0.4-0.4-1 0.4-2.9 0-1.1-0.4-0.9-3.6-1.7-0.8-0.2-0.4-0.4-0.3-0.9-0.4-2.3 0.2-1.4 0.8-1.6 4.8-5.8-9.5-7.7-1-3 0.1-1.1 1.3-2.3 1.5-3.5 0.4-1.4 0-1.1-0.4-0.5-0.5-0.9-0.5-0.9-1-1.1-0.6-0.6-0.7-0.3-1 0-0.5-0.5-0.7-0.9-3-5.9-0.7-1.3-1.4-1.4-1.2-1.9-0.6-0.6-1.7-1.4-0.3-0.6 0.1-0.5 0.4-0.5 0.4-1.1-0.1-0.5-0.6-0.4-3.1-0.1-0.7-0.1-0.5-0.4-1-1-1.3-0.9-0.5-0.6-0.7-0.5-0.4 0-2.4 0-2.3-0.9-0.6-3 1.5-3 2.7-4.2 0.8-1.2 0.7-0.7 1.7-1.1-9.6-9.5 0.9-2.1 0-1.6 1.9-1 0.8-0.9 1.2-3.3 0.3-0.4 0.6-0.1 1.2 0 0.5-0.3 0.6-0.6 3.1-4.2 0.9-1.8 1-3-0.1-2.5-0.4-1.9-0.7-1.3-0.6-1-0.8-0.8-0.6-0.5-0.6-0.3-1.8-0.6-1.2-1-0.9-0.2-1.1 0.9-1.5 2-5 8.1-0.3 0.6-1 0.3-1.1 0.8-0.8 0.8-0.7 1.1-0.4 1.1-0.6 0.8-1.4 0.9-1.6 0.8-0.7 0.5-0.7 0.8-0.7 1.7-0.8 0.7-1.3 0.4-2.2 0.1-3.1 0.9-2.4 1.5-7.3 3.2-1 0.2-1.8-0.6-7.6-3.7-2.3-0.6-1.1 0.1 0.5 1.2 0.2 0.7-0.1 0.4-0.6 0.1-7.9 0.4-10.6 3.3-0.6 0 1-3.3-1.7-12.4 0.5-5 2.7-3.4 2-3.7 8.9-25.7 4.3-7.3 6-5.3 2.6-3.2 1-5 1.6-2.5 9.4-6.9 7.8-1.7 8.5 2.3 20 10.1 3-0.5 3.4-2.3z" />
    <path id="Nitriansky" name="Nitriansky" d="M289.3 282.9l2.6 3.9 1.2 0.8 0.3 0.9-0.4 0.6-2.5 3.2-1.2 2-0.2 1 0.5 0.4 4.2-1 1.6 0 1.4 0.5 0.6 0.8 0.4 1.2-0.1 1.3-0.1 1.2-0.3 1.7 0.1 0.7 0.3 0.4 1 0.2 0.1 0.3-0.2 0.5-1.5 1.9-0.5 0.8-0.1 1.7 0.6 1.5 1.4 2.7 0.4 1.4 0 1.6-0.2 1.5 0.2 0.9 0.4 0.3 0.5 0.1 0.8 0.3 0.9 1.1 1.4 2.5 0.7 3.5 0.2 2.1-0.2 1.7-0.4 1.6-0.4 1.3-0.7 1.1-0.6 0.7-1.2 1-0.3 0.5-0.3 1.3-0.8 1.2-1.5 1.5-0.8 1.2 1.7 3 0.8 0.1 0.6-1.2 0.5-0.5 1.2-1.1 0.4-0.4 1.1-1.9 1.5-1.6 2.2-0.7 11-1.7 5.6-1.9 0.4-0.7 0.2-0.6 0.2-1.7 0.7-0.8 0.4-0.6 0.2-0.6 0.1-0.7 0.2-0.5 1-1.1 0.6-1.1 0.5-0.7 2.6-2.5 1.6-2 1-0.6 0.8-0.3 2 0.5 5.1 7.5 4.5 3.8 1.1 1.3 6.9 15.8-1.5 7.5-0.3 1-0.6 1.2-2.1 2.2-2 2.7-0.7 1.2-0.1 1 1.6 1.7 0 0.4-0.2 0.4-0.7 0.6-0.1 0.7 0.3 0.9 1.5 2.6 0.7 1.7 0 0.8-0.2 0.5-0.9 0.4-0.7 0.9-1.2 1.1-0.9 1.3-0.3 1.2 0 1.5 0.3 1.4 0.3 1.1 0.5 0.7 0.5 0.4 0.9 0 0.4-0.4 0.4-0.5 0.4-0.9 0.4-0.5 0.6-0.3 0.7 0 0.9 0 1 0.3 0.7 0.4 3.4 2.7 0.8 0.5 1.3 0.2 0.9-0.2 0.5 0 1.4 0.4 0.9 0.2 0.9-0.1 1.7-0.5 0.8-0.1 1.4 0.1 0.2-0.5 0.3-1.3 0.6-1.1 0.5-0.7 0.6-0.4 1.3-0.4 0.6-0.3 0.7-0.5 1.4-0.4 1.2-0.2 0.9-0.3 2.5-1.3 2.9-0.7 1.1-0.3 1 0.2 1.5-0.1 0.9-0.5 0.9-0.7 2.8-2.6 2.4 2.7 0.4 1.1-0.1 1.7-0.2 0.6-0.8 1.1-0.3 0.8-0.4 1-0.5 2 0.1 1.4 1.1 4.8-0.1 1.8-0.6 1.8-1.3 1.7-1.1 1.2-0.7 0.6-0.9 0.6-0.7 0.6-0.5 0.8-0.5 1.3-2 2.9-0.3 0.9 0.1 3.2 0.2 2.5-4-0.1-2.6 1.2-25.1 5.6-3 2.5-4.7 9.8-1.7 1.5-3.4 0.6-1.6 0.9-2.3 2.8 0.3 1 1.2 1 0.5 3.1-1.7 10.8-0.4 5.5 1.1 4.9 5.1 5 6.8 4.9-4.6 1.7-4 1-3 2.3-5.8 6.7-4.3 2.6-5.1 0.5-5.2-1-6.4-2.8-7.9-0.6-35.9 4.2-13.1 5.4-6.5 0.6-21.6-2.3-50.3 3.3-14.6-4-4-2.2 1.4-1.5 0.7-1.9 1.2-6.1 0.4-0.9 0.4-0.4 0.4 0.1 0.7 0.4 1.1 0.1 0.4 0.2 1.1-0.3 1.4-0.8 3.3-2.6 1.3-1.2 0.7-1.1 0.1-5.6 0.6-1.8 0.6-1.2 1.5-1.5 0.5-0.2 0.3 0.1 0.7-0.3 1.3-1 2-2.9 4.2-3.8 2.9-1.9 1.1-1 0.2-1-0.5-1.2-1.2-2 0.4-3.1 0.6-1.7 0-1-0.4-1.8-1.3-1.1 0.5-6.8-1.2-9.1 0.8-5.7-0.1-1.4-0.4-1.1-0.9-0.5-0.9 0-0.8-0.3-1.2-0.1-0.6-0.2-0.7-0.7-0.3-0.4 0.1-0.7 0.7-2-0.4-1-0.5-0.3-1.1 0.2-2.9 1-0.9 0.1-0.8-0.3-1.2-1-0.4-0.7-0.2-0.8 0.4-1 1.4-3.6 0.1-2.2-1-1.8-7.7-8.5 0-1 0.6-0.8 2.9-1.1 0.9-0.1 0.7 0.1 1.2 0.6 1.2 0.8 1 0.1 1-0.5 0.8-0.8 0.4-1.3 0.1-1.5-0.6-1.5-1.5-2.9-0.4-1.2-0.1-0.8 1.3-0.6 0.6-0.4 0.4-0.1 0.4 0.3 2.5 3 0.3 0.2 0.5-0.1 2-1.6 2.8-1.7 0.8-0.6 0.5-1 0.5-1.9 0.1-1.4-0.3-1.1-0.6-0.8-1.8-1.8-0.4-0.4-0.5-0.1-0.4-0.5-0.5-0.7-0.7-2.1-0.2-1 0.2-0.8 0.5-0.5 0.5-0.9 0-0.7-0.4-0.8 0-0.6 0.3-0.8 0.7-1.1 1.2-2.1-4.5-4.1-0.5-1.4 0.8-0.9 0.3-0.7 0.7-4.4 0.1-1 0.4-1.8 0.8-4 2.9-2.9 12.4-22.4 3.8-4.3-7.8-8-3.8-3.1-0.7-0.4-0.5-0.1-7.7-4 3-3.4 0.4-0.6 5.3-13.9 0.8-1.4 0.6 0.1 0.5 0.2 2.3 1.6 1 0.1 1.5-0.2 8.1-3.3 0.9-0.6 0.4-0.6-0.4-1-0.4-1.7 3.4-3.7 0.4-0.3 0.7-0.2 1.3 0.7 0.3-0.3 0.3-0.7 0.3-1.7 0.1-1.2-0.1-1.5-0.3-1.6-0.7-1-0.3-0.6-0.4-0.2-0.9-1.9-0.2-0.9-0.6-1.3-0.2-0.8 0.1-1.8-0.1-1.1-0.2-1.1-0.4-1.7 0-0.8 0.2-0.8 0.8-1.1 1.3-1 3.6 0.3 1.1 0.7 0 1.3 0.2 1.1 0.3 0.4 12.4 2.7 1.5 0.9 3.8 4 0.9 1.3 2 3.6 1.4 1.9 7.6 4.4 3 0.8 2 1.9 1.4 2.4 0.1 1.6-1 2.5-1.5 2.3-1.4 2.6-0.2 1.8 0.4 1.1 1 1.1 0 1.3 0.5 0.5 0.8 0.2 2.1-0.1 0.7 0.3 0.6 0.6 0.9 1 3.4 2.4 0.8 0.8 1.7 3.7 2 5.9 4.3 1.6 1.1 0.1 1-2.1 0.4-0.2 0.3 0.2 1.1 1.7 1.2 1 0.6-0.3 0.2-0.6 0.3-0.3 2.6-1.6 5.6-4.9 12.3-7.5z" />
    <path id="Trenciansky" name="Trenčiansky" d="M349.5 231.1l-0.1 1.8-0.6 1.2-0.6 0.8-2.1 4.5-2.4 3.7-0.7 0.4-0.8 0.3-2.6 0.1-0.9 0.5-0.9 1.1-4.1 7.9-0.7 0.9-2.5 2.2-0.6 0.7-0.3 0.5 0.4 2.4-0.1 1-1.1 0.3-1 0-9.6-2.5-4.7 6.7-2.6 3.1-0.8 1.2-0.4 0.8-0.4 1.3-0.1 1.7-0.6 1.7-0.1 1-17.2 2.2-2 4.3-12.3 7.5-5.6 4.9-2.6 1.6-0.3 0.3-0.2 0.6-0.6 0.3-1.2-1-1.1-1.7-0.3-0.2-0.4 0.2-1 2.1-1.1-0.1-4.3-1.6-2-5.9-1.7-3.7-0.8-0.8-3.4-2.4-0.9-1-0.6-0.6-0.7-0.3-2.1 0.1-0.8-0.2-0.5-0.5 0-1.3-1-1.1-0.4-1.1 0.2-1.8 1.4-2.6 1.5-2.3 1-2.5-0.1-1.6-1.4-2.4-2-1.9-3-0.8-7.6-4.4-1.4-1.9-2-3.6-0.9-1.3-3.8-4-1.5-0.9-12.4-2.7-0.3-0.4-0.2-1.1 0-1.3-1.1-0.7-3.6-0.3-1.3 1-0.8 1.1-0.2 0.8 0 0.8 0.4 1.7 0.2 1.1 0.1 1.1-0.1 1.8 0.2 0.8 0.6 1.3 0.2 0.9 0.9 1.9 0.4 0.2 0.3 0.6 0.7 1 0.3 1.6 0.1 1.5-0.1 1.2-0.3 1.7-0.3 0.7-0.3 0.3-1.3-0.7-0.7 0.2-0.4 0.3-3.4 3.7-17-3.7-0.7-1.1-1.1-1.3-0.9-0.4-0.9-0.1-1.3 0.7-1 0.3-0.6-0.2-0.8-0.7-1.4-2.3-1.4-1.3-0.6-0.5-0.5-0.1-0.3 0.5 0.2 1.1-0.1 0.4-1 0.2-6.1 0.2-3.2-0.5-3.3-1.6-0.6-0.4-0.3-0.5-1.9-3.5-1.6-1.9-2.3-1.2-2.9 0.8-5.5 2.4-1.1 1-0.5 0.2-0.6 0.1-1.7 0-0.4-0.1-1.2-1.4-0.7 0-0.3 0.9 0 1.2 0 0.9 0 0.7 0 1-0.5 0.7-0.5 0.9-5.7 1.8-2.5-1.4-0.9 0.1-0.7 0.6-1.1 0.7-4.1 3.6-3.8-8.4-2-2.8-1.7-1.7-1.2-1.7-0.5-3-0.5-0.8-1-0.8-0.3-0.7-0.1-0.6 0.3-1 0.3-0.7 1-1.9 0.2-1 0.3-0.5 0.7-0.7 0.3-0.7 0.1-1.8-0.6-1.7-0.9-1.7-1.4-2-0.7-0.9-0.6-0.4-1.5-0.4-0.4-0.2-0.9-0.7-1.7-1.9-2.1-2.9-0.9-1-0.9-0.1-2.9 3.7-0.6 0.5-1 0.1-2.1-0.5-3.8-1.5 5.5-5.3 1.8-2.5 1.6-3.9 0.5-1.6 3.2-2.1 4.2-1.2 2.5 1.2 5.4 5.7 6.4 1 33.7-13.3 3.1-2.6 6-10.4 2.9-2.4 4.3-0.7 3.7 0.6 3.3-0.2 3.2-3.2 1.5-3.6 1.3-8.3 1.1-4 2.3-4.6 3.7-2.4 4.2-0.7 9.4 0.8 5.9-2.7 5.1-4.8 3.7-6.2 1.1-5.9-0.2-13.6 0.6-7.2 2.2-8.8 3.3-8.2 4.2-6.9 5.2-4.9 23.6-9.2 6.5-5.1 0.8 1.2 3.1 1.1 0.1 2 0.1 1.1 0.2 0.5 10.8 18 0.5 0.9 0.2 0.7-0.4 1.1 0.1 0.8 0.9 1.7 0.2 0.6 0 0.7 0.3 0.6 2.2 4 1 1.3 1 1 4.2 2.8 1.3 0.2 0.5 0.4 2.2 2 0.7 0.5 0.7 0.3 1 0.2 3.2 2.1 0.9 0.8 1.4 2 0.5 1.3 0.1 1.9-0.1 1.1 0.2 1.1 0.2 0.6 2.1 3.3-4.7 5-0.7 0.9 0.3 0.6 1 0 2.5 0.8 0.7 0.6 0.7 0.9 0.5 1.2 0.4 0.5 1 0.6 0.5 0.7 0 0.9-0.2 1.1-0.1 0.9 0.2 0.7-0.1 0.4-0.5 1.3 0 0.6 0.5 3.5-0.4 1.5-0.9 1.8-2.3 3.4-2 2.4-1.6 1.3-5.3 1.5-1.1 0.7-1 1-1.7 2.9-1 1-0.7 0.6-5.1 3.1 0.9 2.1 1.5 1.2 3.2 0.6 2.5 0.8 0.6 0.1 1.3-0.3 4.7-2.7 1.2-1.2 0.7-0.9 0.1-0.9 0.3-0.4 2.3-2.5 0.4 0 0.4 0.4 1.1 2.2 0.3 0.5 1.7 0 5.7-1.7 7.3 1.9 3.3 0.4 1 0.5 0.7 0.5 3.5 4.6-0.9 0.8-0.3 0.5-0.8 0.8-0.6 0.5-0.4 1.3-0.3 0.6-0.5 0.7-0.2 0.6 0.1 1.1 1 4 0 1.4 0 1-0.5 1.6-0.1 1.5 0.2 1.2 0.1 0.7-0.3 2.3 0 1.5 0.4 0.9 0.7 1 4 3.6 0.5 0.3 1.2 0.4 1.1 0.7 1.1 0.4 2.8 2.7 1.1 0.6 0.5 0.4 0 0.2-0.4 0.5-0.1 0.7 0.1 0.9 0.5 1.9 0.6 1.3 1.2 1.8 6 7.5 0.5 0.9 0.5 2.5z" />
    <path id="Zilinsky" name="Žilinský" d="M530.9 109.1l0.2 0.8 3.7 6.3 0.8 2.2 0.7 2.5 0.1 3.3 0.2 1.7 0.8 1.5 0.6 0.3 0.5-0.1 0.9-1.2 0.7-0.4 1.2-0.1 1.1 0.2 1.1 0.9 0.9 1.5 1.1 2.7 0.6 0.9 0.6 0.3 0.4-0.5 0.5-0.2 0.5 0.2 0.5 1 0.6 0.8 0.6 0.4 0.6 0 3.5-0.6 2.4-1.1 0.9-0.3 0.9-0.1 0.5 1.1 0.1 2.1-1.1 7.9 0 3-0.2 2.2-0.9 3.9-0.1 3.3-0.4 1.7-0.6 0.7-1.2 0.1-1.9 0.9-0.9 0-1.3-0.1-0.6 0.1-0.2 0.7 0.2 1.1 6 7.9 1.1 1 0.8 1.1 0.6 1.3 0.2 2.3 0.7 2.6 0.4 1.1 0.4 0.7 0.5 0.6 0.9 0.3 1.9 0.4 0.4 0.6-0.3 1.1-2 2-1.8 1.5-6 2.6-2.3-1.7-0.8-0.1-0.9 0-3.1 1.5-2.1 0.2-0.4 0.2-16.8-0.4-4.9-1.4-1.7 0-8 2.3-2.1 1.2-0.6 0-0.7-0.2-0.9-0.9-1-1.1-0.6-0.3-1.8-0.5-0.6-0.4-1-1-1.3-1.1-11.3-4.2-13.3-1.6-29.4 5-5.8 7.3-3.7 2.1-1.9 2.5-0.3 1-0.3 1.7-0.1 0.5-0.6 0.9-0.9 0.7-1 0.3-7.1 1.1-0.9-0.2 0.4-1.1 0.4-0.4 0.8-0.3 0.1-0.6-0.1-1-0.3-2.1-0.3-1-0.4-0.6-0.9-0.6-0.3-0.9-0.2-0.5-1.4 0-29 4.2-8.3-0.5-2 4.7-0.5 0.7-0.9 0.9-2.9 1.4-0.4 0.7 0.1 0.9 0.9 3.2 0.2 1.6-0.2 1.1-0.7 1.1-0.5 0.6-0.2 0.8 0.2 1.2 1 1.8 2.3 2.2 0.3 0.3 0.1 0.9-0.1 1.3-0.6 3.1-0.4 1.6-2.4 4.5-14.9-0.9-3-0.7-0.4-1.1-0.8-1.1-0.4-1.1-0.3-0.4-2.1 0.7-7.5 5.3-0.5-2.5-0.5-0.9-6-7.5-1.2-1.8-0.6-1.3-0.5-1.9-0.1-0.9 0.1-0.7 0.4-0.5 0-0.2-0.5-0.4-1.1-0.6-2.8-2.7-1.1-0.4-1.1-0.7-1.2-0.4-0.5-0.3-4-3.6-0.7-1-0.4-0.9 0-1.5 0.3-2.3-0.1-0.7-0.2-1.2 0.1-1.5 0.5-1.6 0-1 0-1.4-1-4-0.1-1.1 0.2-0.6 0.5-0.7 0.3-0.6 0.4-1.3 0.6-0.5 0.8-0.8 0.3-0.5 0.9-0.8-3.5-4.6-0.7-0.5-1-0.5-3.3-0.4-7.3-1.9-5.7 1.7-1.7 0-0.3-0.5-1.1-2.2-0.4-0.4-0.4 0-2.3 2.5-0.3 0.4-0.1 0.9-0.7 0.9-1.2 1.2-4.7 2.7-1.3 0.3-0.6-0.1-2.5-0.8-3.2-0.6-1.5-1.2-0.9-2.1 5.1-3.1 0.7-0.6 1-1 1.7-2.9 1-1 1.1-0.7 5.3-1.5 1.6-1.3 2-2.4 2.3-3.4 0.9-1.8 0.4-1.5-0.5-3.5 0-0.6 0.5-1.3 0.1-0.4-0.2-0.7 0.1-0.9 0.2-1.1 0-0.9-0.5-0.7-1-0.6-0.4-0.5-0.5-1.2-0.7-0.9-0.7-0.6-2.5-0.8-1 0-0.3-0.6 0.7-0.9 4.7-5-2.1-3.3-0.2-0.6-0.2-1.1 0.1-1.1-0.1-1.9-0.5-1.3-1.4-2-0.9-0.8-3.2-2.1-1-0.2-0.7-0.3-0.7-0.5-2.2-2-0.5-0.4-1.3-0.2-4.2-2.8-1-1-1-1.3-2.2-4-0.3-0.6 0-0.7-0.2-0.6-0.9-1.7-0.1-0.8 0.4-1.1-0.2-0.7-0.5-0.9-10.8-18-0.2-0.5-0.1-1.1-0.1-2-3.1-1.1-0.8-1.2 4.1-3.2 0.4-12.8 5.1 1.1 4-2.6 7.4-9.1 5.8-3.1 1.4-1.5 0.9-2.4 0.4-5 1-2.2 3.6-2.3 7.7 1.1 5-2.6 1.2-0.3 1.2 0.3 5.8 2.9 5 1.5 5-0.3 7.1-6.6 3.3-1.3 7.2-0.2 17.3 1.7 5.1 3.1-1.5 4.5 0.2 3.9 0.8 3.6 0.5 4-0.8 8.9 1 3 3.4 0.7 4.5-0.4 6.8-3.9 3.8-1 1.6 0.6 3.5 2.6 1.6 0.8 1.9 0.1 4.4-0.8 5.4-2.2 1.2-2.2 0.5-3.3 1.2-5.3 0.5-0.1 2.2 0 0.7-0.6 0.5-1.8-0.4-1.3-0.8-1.1 2.8-8.8 2.3-3.8 2.6-2.5 2.9-1.4 3.3-0.7 5.4 0 1.8-0.2 2.5-1.1 1.3-1.1 15.2-16.8 0.7-1.4 1-0.4 2.5 1 2.9 5.2 1.3 1.4 4.2 2.8 2.1 5.4 3.2 13.7 2.8 8.5 0.9 2 3 2.3 3.7 1 7 0.1-0.8 1.7-0.3 1.4 0.1 4.2-0.4 3.3 10.1 3.4 3.8 0.5 3.5-0.4 5.9-2.4 1.6 1.3 1.7 5.1 0.8 4.4 1.1 13.1-0.3 1.1-1.3 2-0.1 1.1 0.6 0.9 2.4 1.8 0.3 0.7 1.4 1.5 0.3 1.2-0.4 1.5-1 0.6-1.1 0.3-0.8 0.6-6.6 10.9-0.7 3.5 2.2 3.2 4.4 1.6 8.1 0.6 3.9-1.5 2.5-2.5z" />
    <path id="Banskobystricky" name="Banskobystrický" d="M553.3 187.8l25.2 3.2 3.3-0.3 2.8-2.4 1.1 0 3.2 1.7 3.5 1.1 0.9 0.5 1.3 1 7.1 4.3-3.9 1.2-8.3 12.4-0.7 1.6 0.1 1.3-0.1 1.4-0.1 2.6-0.1 2.1 0.6 2.6 0 1.4-0.7 1.2-0.8 1-1 0.9-0.6 0.7-0.4 0.7-0.1 1.2 0 1.6 0.7 3.1 0.7 1.7 1.3 1.3 2 0.4 0.4 0.3 9 7.4 1 2 3.6 10.7 1.2 4.8-0.3 1-0.1 1.2 0.3 0.4 0.7 0.7 1.5 0.8 1.3 0.4 1.9 0.2 0.6 0.2 1.5 0.8 1.5 0.7 0.4 0.3 0.1 0.4-0.5 1.8-0.7 3.4-0.3 0.9-1.2 2.1-0.4 1-0.5 1.5-1.3 6.2-0.4 1.1-1 1.5-0.7 1.3-0.4 1.3-0.3 1.7 0 1.1 0.2 0.9 0.6 1.2 0.2 0.8 0 0.7-0.1 1.4 0.4 0.8 0.8 0.9 3.1 1.9 0.4 0.5-0.8 1.8 0.1 0.3 0.7 0.1 7.4-0.6 2.8 0.3 1.4-0.1 3.1-1.7 1.2-0.4 3.9-0.1 3 2.3-5.3 5.6-2.6 3.5-2.1 4.1-6.8 21-3.6 7.6-4.4 6.7-5.1 5.2-4 2.1-2.1-0.9-2-2.2-3.5-1.8-2 0.9-5.3 4.9-2.9 1.3-3.1-0.3-1.8-0.7-1.5 0.3-2.2 2.6-0.6 1.9-1 4.7-1.3 2.4-1.4 1.1-3.4 1.3-7.5 4.6-6.7 2.1-4 2.5-7.9 7.5-4.2 1.5-3.6-1.4-6.7-6.1-4.3-1.3-6.3 2.4-1.7-0.2-1.6-2.5 0.4-2.2 1-2.3-0.1-2.6-3.1-3.8-4.1-0.7-8.1 1.6-1.7-0.9-3.8-4.7-2-1.7-1.8-0.6-1.9 0-16.1 4.3-3 1.7-1.9 3.9-1.7 10.2-2.1 4.1 0 0.3 0.3 1.7 0.1 1.5-0.1 1.3-0.3 1.4-9.3 6.7-23.7-0.5-10.5 6.7-1.9 0.4-21.7-2.6-10.5 1.5-3.4-0.2-0.2-2.5-0.1-3.2 0.3-0.9 2-2.9 0.5-1.3 0.5-0.8 0.7-0.6 0.9-0.6 0.7-0.6 1.1-1.2 1.3-1.7 0.6-1.8 0.1-1.8-1.1-4.8-0.1-1.4 0.5-2 0.4-1 0.3-0.8 0.8-1.1 0.2-0.6 0.1-1.7-0.4-1.1-2.4-2.7-2.8 2.6-0.9 0.7-0.9 0.5-1.5 0.1-1-0.2-1.1 0.3-2.9 0.7-2.5 1.3-0.9 0.3-1.2 0.2-1.4 0.4-0.7 0.5-0.6 0.3-1.3 0.4-0.6 0.4-0.5 0.7-0.6 1.1-0.3 1.3-0.2 0.5-1.4-0.1-0.8 0.1-1.7 0.5-0.9 0.1-0.9-0.2-1.4-0.4-0.5 0-0.9 0.2-1.3-0.2-0.8-0.5-3.4-2.7-0.7-0.4-1-0.3-0.9 0-0.7 0-0.6 0.3-0.4 0.5-0.4 0.9-0.4 0.5-0.4 0.4-0.9 0-0.5-0.4-0.5-0.7-0.3-1.1-0.3-1.4 0-1.5 0.3-1.2 0.9-1.3 1.2-1.1 0.7-0.9 0.9-0.4 0.2-0.5 0-0.8-0.7-1.7-1.5-2.6-0.3-0.9 0.1-0.7 0.7-0.6 0.2-0.4 0-0.4-1.6-1.7 0.1-1 0.7-1.2 2-2.7 2.1-2.2 0.6-1.2 0.3-1 1.5-7.5-6.9-15.8-1.1-1.3-4.5-3.8-5.1-7.5-2-0.5-0.8 0.3-1 0.6-1.6 2-2.6 2.5-0.5 0.7-0.6 1.1-1 1.1-0.2 0.5-0.1 0.7-0.2 0.6-0.4 0.6-0.7 0.8-0.2 1.7-0.2 0.6-0.4 0.7-5.6 1.9-11 1.7-2.2 0.7-1.5 1.6-1.1 1.9-0.4 0.4-1.2 1.1-0.5 0.5-0.6 1.2-0.8-0.1-1.7-3 0.8-1.2 1.5-1.5 0.8-1.2 0.3-1.3 0.3-0.5 1.2-1 0.6-0.7 0.7-1.1 0.4-1.3 0.4-1.6 0.2-1.7-0.2-2.1-0.7-3.5-1.4-2.5-0.9-1.1-0.8-0.3-0.5-0.1-0.4-0.3-0.2-0.9 0.2-1.5 0-1.6-0.4-1.4-1.4-2.7-0.6-1.5 0.1-1.7 0.5-0.8 1.5-1.9 0.2-0.5-0.1-0.3-1-0.2-0.3-0.4-0.1-0.7 0.3-1.7 0.1-1.2 0.1-1.3-0.4-1.2-0.6-0.8-1.4-0.5-1.6 0-4.2 1-0.5-0.4 0.2-1 1.2-2 2.5-3.2 0.4-0.6-0.3-0.9-1.2-0.8-2.6-3.9 2-4.3 17.2-2.2 0.1-1 0.6-1.7 0.1-1.7 0.4-1.3 0.4-0.8 0.8-1.2 2.6-3.1 4.7-6.7 9.6 2.5 1 0 1.1-0.3 0.1-1-0.4-2.4 0.3-0.5 0.6-0.7 2.5-2.2 0.7-0.9 4.1-7.9 0.9-1.1 0.9-0.5 2.6-0.1 0.8-0.3 0.7-0.4 2.4-3.7 2.1-4.5 0.6-0.8 0.6-1.2 0.1-1.8 7.5-5.3 2.1-0.7 0.3 0.4 0.4 1.1 0.8 1.1 0.4 1.1 3 0.7 14.9 0.9 2.4-4.5 0.4-1.6 0.6-3.1 0.1-1.3-0.1-0.9-0.3-0.3-2.3-2.2-1-1.8-0.2-1.2 0.2-0.8 0.5-0.6 0.7-1.1 0.2-1.1-0.2-1.6-0.9-3.2-0.1-0.9 0.4-0.7 2.9-1.4 0.9-0.9 0.5-0.7 2-4.7 8.3 0.5 29-4.2 1.4 0 0.2 0.5 0.3 0.9 0.9 0.6 0.4 0.6 0.3 1 0.3 2.1 0.1 1-0.1 0.6-0.8 0.3-0.4 0.4-0.4 1.1 0.9 0.2 7.1-1.1 1-0.3 0.9-0.7 0.6-0.9 0.1-0.5 0.3-1.7 0.3-1 1.9-2.5 3.7-2.1 5.8-7.3 29.4-5 13.3 1.6 11.3 4.2 1.3 1.1 1 1 0.6 0.4 1.8 0.5 0.6 0.3 1 1.1 0.9 0.9 0.7 0.2 0.6 0 2.1-1.2 8-2.3 1.7 0 4.9 1.4 16.8 0.4 0.4-0.2 2.1-0.2 3.1-1.5 0.9 0 0.8 0.1 2.3 1.7z" />
    <path id="Kosicky" name="Košický" d="M969.4 200.7l-0.3 0.5-1.2 3.3-0.1 2 0.3 2.2 0.4 9-0.4 1.8-1.2 3.1-1.5 2.2-1.7 1.3-1.3 1.8-0.5 3.5 0.2 5.7-1.2 5.7-2.1 4.9-2.8 3.8-2.1 1.3-4.7 1.5-2.1 1.5-1.4 1.9-1.8 4.2-1.1 2-11.4 9.3-2.7 4.3-0.3 5.3 2 10.8-0.6 4.1-1.9 4.3-0.2 19.1-3.3 4.3-3.1 2.4-3.2 0.9-10.5-1-3.2 0.2-3.2 1.1-9.1 0.5-2.6 1-5.3 3.1-7.6 1.1-9.1 4.7-5.3 0.4-5.5-1.8-4.6-3.5-4.2-4.8-9.8-15.2-1.4-2.8-2.3-10.9-1.5-3-3-0.7-6.5 0.1-2.8-1.3-1.1-1.9-1.6-5.1-1.2-2.3-1.5-1.4-3.2-1.2-5.8-3.5-2.6-0.8-9.1 2.9-6 0.1-2.9 0.6-3.4 2-1.5 2.5-1 2.8-2 3-2.6 1.5-2-0.9-2.2-1.9-3.2-1.4-5.8 1.4-13.5 6.5-4.5-1-3.5-3.5-4.9-2.3-5.2-0.9-4.3 0.3-6.3-0.5-9.5-5.9-5.5-0.6-2.6-0.6-5.2-4.8-2.7-1.4-2.8 0-37.1 8.6-10.9 0.8-5 2-0.2 2-0.1 2.2 0.5 6.5-0.2 1.8-2.4 3.6-0.4 0.4-3-2.3-3.9 0.1-1.2 0.4-3.1 1.7-1.4 0.1-2.8-0.3-7.4 0.6-0.7-0.1-0.1-0.3 0.8-1.8-0.4-0.5-3.1-1.9-0.8-0.9-0.4-0.8 0.1-1.4 0-0.7-0.2-0.8-0.6-1.2-0.2-0.9 0-1.1 0.3-1.7 0.4-1.3 0.7-1.3 1-1.5 0.4-1.1 1.3-6.2 0.5-1.5 0.4-1 1.2-2.1 0.3-0.9 0.7-3.4 0.5-1.8-0.1-0.4-0.4-0.3-1.5-0.7-1.5-0.8-0.6-0.2-1.9-0.2-1.3-0.4-1.5-0.8-0.7-0.7-0.3-0.4 0.1-1.2 0.3-1-1.2-4.8-3.6-10.7-1-2-9-7.4-0.4-0.3-2-0.4-1.3-1.3-0.7-1.7-0.7-3.1 0-1.6 0.1-1.2 0.4-0.7 0.6-0.7 1-0.9 0.8-1 0.7-1.2 0-1.4-0.6-2.6 0.1-2.1 0.1-2.6 0.1-1.4-0.1-1.3 0.7-1.6 8.3-12.4 3.9-1.2 2.6-2.5 2.1-5.2 1.2-1.8 1-1 5.2-3.3-2.6-3.3-2.3-0.7-2-0.4-0.5-0.5 0.1-0.6 2-1.9 2.3-3.2 0.8-0.9 2.4-1.5 7.6-3.4 1.2-1.1 0.5-0.3 0.5 0 0.4 0.2 0.5 0 0.8-0.5 2.8-2.7 0.7-0.3 0.4 0.2 0.6 0.7 1.3 0.3 3.9 2.7 2.8 3.9 0.1-0.2-0.3-0.7-0.3-1.4 0-0.9 0.5-0.3 4.1-1.4 0.7-0.4-0.1-0.5-0.9-1.6 0.2-0.8 0.5-0.9 1.4-1.5 0.8-0.2 0.9 0.3 0.1 0.8-0.4 1.9 0.4 0.8 0.9 0.8 4.7 3.6 4.2 2.5 3.6 0.4 1.5 0.4 0.9 0.4 0.3 0.7 2.2 3.6 1 0.4 2.1 0.2 2.2-0.3 1.8-0.8 1.2-0.9 0.9-1 0-0.6-0.5-1-0.1-0.8 0.2-0.4 0.8-0.4 1.1-0.3 3.2-0.2 11 1.9 0.9-0.5 0-0.3-1.2-0.9-0.5-0.6 0.1-1.1 0.3-1.9 0-0.6-0.5-1-0.1-0.5 0.2-0.7 0.5-0.1 1.9 0.4 4.2 1.9 2.7 0.7 1 0.5 0.1 0.5-0.7 0.8 0 0.7 0.6 0.6 2 1 1.1 0.3 0.8 0 5.6-1.2 3.5 3.1 3.6 0.6 5 3.2 0.7 0.2 0.4-0.7 0.6-0.3 1-0.4 2.4-0.4 1 0.2 0.7 0.3 0.5 1.4 0.1 0.7-0.1 1.4 0.4 1.2 0.8 1.2 2.9 2.8 0.5 0.7 0 0.5 0.6 1.5 1 1.5 0.7 0.6 0.6 0.3 1.2-0.3 2.4-0.3 6.7 2.3 3.4 0.4 0.8 0 3.2-1.1 0.8 0.1 0.7 0.2 2.1 1.4 0.4 0.5 0.9 1.3 0.9 1 1.5 1.4 1 0.5 3.6-0.7 2.6 0.9 1.7 0.1 1.2 0.5 1.2 1 0.9 0.2 0.9-0.1 1.1-0.4 0.5 0.1 0.3 0.3 0.3 1.4-0.3 0.8-1 1-0.6 1.1-1 1.2-0.4 0.6-0.2 0.6 0.1 1.2 2 3 3.2 3 1.9 0.9 2.1 0.3 2.3-0.3 0.5-0.2 0.1-0.4-1.1-1-0.2-0.4-0.2-1.1 0.1-0.6 0.7-1 0.7-0.3 0.9-0.1 2.5 0 0.8-0.2 2.1-0.8 2.7-0.3 1.3-0.5 0.6-0.6 0.5-1.1 0.5-1.9 0.4-3.5 0-0.8-0.2-0.7-0.6-1 0.2-0.5 0.6-0.5 1.7-0.5 0.8 0 0.7 0.2 1.2 1 0.7 0.8 0.5 0.2 0.3-0.6 0.2-1 0.2-2 0.4-0.6 0.3 0.1 0.3 1.3 0.4 0.8 0.8 1 2.3 1.1 1.3 0.2 1.4-0.3 0.8-0.6 0.5-0.4 2.4-1.3 2.1 5.2 0.2 1.3 0.2 2.6 0.5 1.7 1 2 0.9 1.3 5 9.2 11.1 4.4 4.5 0.8 3-0.2 1.5 0.2 1.2 0.5 3.3 2.5 1.9 0.6 1.7 0.2 1.4-0.3 1-0.3 0.7-0.4 0.7-0.8 0.4-1.3 1.2-0.6 4-0.7 2.9-2.6 3.3-1.1 1-0.6 0.7-0.8 0.5-1.5 0.3-1.1 0-1-0.3-1.1-1-2.3-0.2-0.8-0.1-0.7 0.1-1.7-0.1-0.5-0.7-2.8-0.1-1 0-3.5-0.1-0.8-0.3-1 0.2-6.7 6.6 0.2 16.9 5.5 2.4 1.2 1 0.5 0.4 0.5-0.1 0.4 1.1 1 8 4.8 3.7 1 3.3 0.1 5.2-0.9 10.1-0.2 0.6-0.2 0.4-0.2 0.2-0.9-0.1-1.2-0.5-2.6-0.7-2.4-0.1-0.7 0-1.2 1.1-1.2 3.7-1.6 6.6-8.9 4.7-0.1 3.1 1.8 0.5 1 0.2 1 0.1 1 0.3 1.3 2.7 6.4 0.1 1.7 0.2 1.4 0.6 0.6 0.9 0.3 5.8-0.3 4.5-1.3 0.8-0.1 8.2 2.1z" />
    <path id="Presovsky" name="Prešovský" d="M969.4 200.7l-8.2-2.1-0.8 0.1-4.5 1.3-5.8 0.3-0.9-0.3-0.6-0.6-0.2-1.4-0.1-1.7-2.7-6.4-0.3-1.3-0.1-1-0.2-1-0.5-1-3.1-1.8-4.7 0.1-6.6 8.9-3.7 1.6-1.1 1.2 0 1.2 0.1 0.7 0.7 2.4 0.5 2.6 0.1 1.2-0.2 0.9-0.4 0.2-0.6 0.2-10.1 0.2-5.2 0.9-3.3-0.1-3.7-1-8-4.8-1.1-1 0.1-0.4-0.4-0.5-1-0.5-2.4-1.2-16.9-5.5-6.6-0.2-0.2 6.7 0.3 1 0.1 0.8 0 3.5 0.1 1 0.7 2.8 0.1 0.5-0.1 1.7 0.1 0.7 0.2 0.8 1 2.3 0.3 1.1 0 1-0.3 1.1-0.5 1.5-0.7 0.8-1 0.6-3.3 1.1-2.9 2.6-4 0.7-1.2 0.6-0.4 1.3-0.7 0.8-0.7 0.4-1 0.3-1.4 0.3-1.7-0.2-1.9-0.6-3.3-2.5-1.2-0.5-1.5-0.2-3 0.2-4.5-0.8-11.1-4.4-5-9.2-0.9-1.3-1-2-0.5-1.7-0.2-2.6-0.2-1.3-2.1-5.2-2.4 1.3-0.5 0.4-0.8 0.6-1.4 0.3-1.3-0.2-2.3-1.1-0.8-1-0.4-0.8-0.3-1.3-0.3-0.1-0.4 0.6-0.2 2-0.2 1-0.3 0.6-0.5-0.2-0.7-0.8-1.2-1-0.7-0.2-0.8 0-1.7 0.5-0.6 0.5-0.2 0.5 0.6 1 0.2 0.7 0 0.8-0.4 3.5-0.5 1.9-0.5 1.1-0.6 0.6-1.3 0.5-2.7 0.3-2.1 0.8-0.8 0.2-2.5 0-0.9 0.1-0.7 0.3-0.7 1-0.1 0.6 0.2 1.1 0.2 0.4 1.1 1-0.1 0.4-0.5 0.2-2.3 0.3-2.1-0.3-1.9-0.9-3.2-3-2-3-0.1-1.2 0.2-0.6 0.4-0.6 1-1.2 0.6-1.1 1-1 0.3-0.8-0.3-1.4-0.3-0.3-0.5-0.1-1.1 0.4-0.9 0.1-0.9-0.2-1.2-1-1.2-0.5-1.7-0.1-2.6-0.9-3.6 0.7-1-0.5-1.5-1.4-0.9-1-0.9-1.3-0.4-0.5-2.1-1.4-0.7-0.2-0.8-0.1-3.2 1.1-0.8 0-3.4-0.4-6.7-2.3-2.4 0.3-1.2 0.3-0.6-0.3-0.7-0.6-1-1.5-0.6-1.5 0-0.5-0.5-0.7-2.9-2.8-0.8-1.2-0.4-1.2 0.1-1.4-0.1-0.7-0.5-1.4-0.7-0.3-1-0.2-2.4 0.4-1 0.4-0.6 0.3-0.4 0.7-0.7-0.2-5-3.2-3.6-0.6-3.5-3.1-5.6 1.2-0.8 0-1.1-0.3-2-1-0.6-0.6 0-0.7 0.7-0.8-0.1-0.5-1-0.5-2.7-0.7-4.2-1.9-1.9-0.4-0.5 0.1-0.2 0.7 0.1 0.5 0.5 1 0 0.6-0.3 1.9-0.1 1.1 0.5 0.6 1.2 0.9 0 0.3-0.9 0.5-11-1.9-3.2 0.2-1.1 0.3-0.8 0.4-0.2 0.4 0.1 0.8 0.5 1 0 0.6-0.9 1-1.2 0.9-1.8 0.8-2.2 0.3-2.1-0.2-1-0.4-2.2-3.6-0.3-0.7-0.9-0.4-1.5-0.4-3.6-0.4-4.2-2.5-4.7-3.6-0.9-0.8-0.4-0.8 0.4-1.9-0.1-0.8-0.9-0.3-0.8 0.2-1.4 1.5-0.5 0.9-0.2 0.8 0.9 1.6 0.1 0.5-0.7 0.4-4.1 1.4-0.5 0.3 0 0.9 0.3 1.4 0.3 0.7-0.1 0.2-2.8-3.9-3.9-2.7-1.3-0.3-0.6-0.7-0.4-0.2-0.7 0.3-2.8 2.7-0.8 0.5-0.5 0-0.4-0.2-0.5 0-0.5 0.3-1.2 1.1-7.6 3.4-2.4 1.5-0.8 0.9-2.3 3.2-2 1.9-0.1 0.6 0.5 0.5 2 0.4 2.3 0.7 2.6 3.3-5.2 3.3-1 1-1.2 1.8-2.1 5.2-2.6 2.5-7.1-4.3-1.3-1-0.9-0.5-3.5-1.1-3.2-1.7-1.1 0-2.8 2.4-3.3 0.3-25.2-3.2 6-2.6 1.8-1.5 2-2 0.3-1.1-0.4-0.6-1.9-0.4-0.9-0.3-0.5-0.6-0.4-0.7-0.4-1.1-0.7-2.6-0.2-2.3-0.6-1.3-0.8-1.1-1.1-1-6-7.9-0.2-1.1 0.2-0.7 0.6-0.1 1.3 0.1 0.9 0 1.9-0.9 1.2-0.1 0.6-0.7 0.4-1.7 0.1-3.3 0.9-3.9 0.2-2.2 0-3 1.1-7.9-0.1-2.1-0.5-1.1-0.9 0.1-0.9 0.3-2.4 1.1-3.5 0.6-0.6 0-0.6-0.4-0.6-0.8-0.5-1-0.5-0.2-0.5 0.2-0.4 0.5-0.6-0.3-0.6-0.9-1.1-2.7-0.9-1.5-1.1-0.9-1.1-0.2-1.2 0.1-0.7 0.4-0.9 1.2-0.5 0.1-0.6-0.3-0.8-1.5-0.2-1.7-0.1-3.3-0.7-2.5-0.8-2.2-3.7-6.3-0.2-0.8 3.4-3.6 3.2-2.3 5.6-0.6 4.9 2.5 9 8.5 5.8 2.9 3.4-2.7 1.8-6.7 1-9.4 2.2-2.6 1.2-3 1-3.2 3.4-7.5 1-1.4 0.4 0.5 3.9 0.4 1.7-1.6 3.8-4.6 2.7-1.5 13.5-1.2 0.9-1.2 1.2-3.7 0.9-3.8 0.4-2.5 0.6-1.7 1.8-1.3 2.1-0.1 7.2 2.7 9-0.3 0-4.6 2.7-0.7 14.9 7.6 3.8 1 4.1-1.5 2-1.9 2.8-3.5 1.8-1 1.6-0.1 3.8 0.6 6.7-1.1 2.7 0.5 15.5 18.6 2.8 2.1 3.9 0.6 3-0.2 2.8 0.4 3.3 2.5 2.8 2.9 2.9 2.1 3.2 0.6 4.1-1.5 3.8-3.3 5.7-8.4 3.6-3.5 2.8-0.6 3.7 0 3.2-0.7 1.4-2.4-2.1-4.1-4-2.5-2.2-2.4 3.6-4 2.7-1.3 7.1-1.4 2.7 0.2 3.2 2.2 2.5 2.8 2.6 1.9 3.8-0.7 3-2.8 5.5-8.1 3.2-2.2 2.4 0.6 9.8 5.2 17.1 4.9 2.9-0.1 6.5-1.4 2.5 0.8 5.9-2.4 12.6-1.4 3.2 0.8 1.8 1.2 3.3 3.2 1.7 1.2 1.4 0.2 2.7-0.6 1.7 0.5 3 3.1 5.9 9.1 2.7 2.2 1.8-1.3 2.5-2.9 3-2.8 3.5-0.7 3.2 1.9 6.5 5.9 9.4 4.7 6.3 6 5 8.2 2.3 9.5 1.1 8.5 5 3.7 12.4 2.4 5.7 3.6 2 0.9 1.8 0.2 4.2-0.6 1.4 0.3 1.9 2.2 0.1 1.9-0.5 1.7 0.4 1.7 1.3 1.1 8.2 2.5 9.7-0.4 3.7 1.5 8.9 9 6.4 2 13.7 0.6 6.1 3-1.3 4.4-1.3 6.1-0.8 6.2 0 4.5-2.7 2.3-6.7 1-3.1 2.4-3.8 11.2-2.2 4.8-0.2 1.3 0 3.4-0.3 1.7-1.7 2.3-4.2 3.6-1.3 1.9z" />

        <path id="Trenciansky" name="Trenčiansky" d="M349.5 231.1l-0.1 1.8-0.6 1.2-0.6 0.8-2.1 4.5-2.4 3.7-0.7 0.4-0.8 0.3-2.6 0.1-0.9 0.5-0.9 1.1-4.1 7.9-0.7 0.9-2.5 2.2-0.6 0.7-0.3 0.5 0.4 2.4-0.1 1-1.1 0.3-1 0-9.6-2.5-4.7 6.7-2.6 3.1-0.8 1.2-0.4 0.8-0.4 1.3-0.1 1.7-0.6 1.7-0.1 1-17.2 2.2-2 4.3-12.3 7.5-5.6 4.9-2.6 1.6-0.3 0.3-0.2 0.6-0.6 0.3-1.2-1-1.1-1.7-0.3-0.2-0.4 0.2-1 2.1-1.1-0.1-4.3-1.6-2-5.9-1.7-3.7-0.8-0.8-3.4-2.4-0.9-1-0.6-0.6-0.7-0.3-2.1 0.1-0.8-0.2-0.5-0.5 0-1.3-1-1.1-0.4-1.1 0.2-1.8 1.4-2.6 1.5-2.3 1-2.5-0.1-1.6-1.4-2.4-2-1.9-3-0.8-7.6-4.4-1.4-1.9-2-3.6-0.9-1.3-3.8-4-1.5-0.9-12.4-2.7-0.3-0.4-0.2-1.1 0-1.3-1.1-0.7-3.6-0.3-1.3 1-0.8 1.1-0.2 0.8 0 0.8 0.4 1.7 0.2 1.1 0.1 1.1-0.1 1.8 0.2 0.8 0.6 1.3 0.2 0.9 0.9 1.9 0.4 0.2 0.3 0.6 0.7 1 0.3 1.6 0.1 1.5-0.1 1.2-0.3 1.7-0.3 0.7-0.3 0.3-1.3-0.7-0.7 0.2-0.4 0.3-3.4 3.7-17-3.7-0.7-1.1-1.1-1.3-0.9-0.4-0.9-0.1-1.3 0.7-1 0.3-0.6-0.2-0.8-0.7-1.4-2.3-1.4-1.3-0.6-0.5-0.5-0.1-0.3 0.5 0.2 1.1-0.1 0.4-1 0.2-6.1 0.2-3.2-0.5-3.3-1.6-0.6-0.4-0.3-0.5-1.9-3.5-1.6-1.9-2.3-1.2-2.9 0.8-5.5 2.4-1.1 1-0.5 0.2-0.6 0.1-1.7 0-0.4-0.1-1.2-1.4-0.7 0-0.3 0.9 0 1.2 0 0.9 0 0.7 0 1-0.5 0.7-0.5 0.9-5.7 1.8-2.5-1.4-0.9 0.1-0.7 0.6-1.1 0.7-4.1 3.6-3.8-8.4-2-2.8-1.7-1.7-1.2-1.7-0.5-3-0.5-0.8-1-0.8-0.3-0.7-0.1-0.6 0.3-1 0.3-0.7 1-1.9 0.2-1 0.3-0.5 0.7-0.7 0.3-0.7 0.1-1.8-0.6-1.7-0.9-1.7-1.4-2-0.7-0.9-0.6-0.4-1.5-0.4-0.4-0.2-0.9-0.7-1.7-1.9-2.1-2.9-0.9-1-0.9-0.1-2.9 3.7-0.6 0.5-1 0.1-2.1-0.5-3.8-1.5 5.5-5.3 1.8-2.5 1.6-3.9 0.5-1.6 3.2-2.1 4.2-1.2 2.5 1.2 5.4 5.7 6.4 1 33.7-13.3 3.1-2.6 6-10.4 2.9-2.4 4.3-0.7 3.7 0.6 3.3-0.2 3.2-3.2 1.5-3.6 1.3-8.3 1.1-4 2.3-4.6 3.7-2.4 4.2-0.7 9.4 0.8 5.9-2.7 5.1-4.8 3.7-6.2 1.1-5.9-0.2-13.6 0.6-7.2 2.2-8.8 3.3-8.2 4.2-6.9 5.2-4.9 23.6-9.2 6.5-5.1 0.8 1.2 3.1 1.1 0.1 2 0.1 1.1 0.2 0.5 10.8 18 0.5 0.9 0.2 0.7-0.4 1.1 0.1 0.8 0.9 1.7 0.2 0.6 0 0.7 0.3 0.6 2.2 4 1 1.3 1 1 4.2 2.8 1.3 0.2 0.5 0.4 2.2 2 0.7 0.5 0.7 0.3 1 0.2 3.2 2.1 0.9 0.8 1.4 2 0.5 1.3 0.1 1.9-0.1 1.1 0.2 1.1 0.2 0.6 2.1 3.3-4.7 5-0.7 0.9 0.3 0.6 1 0 2.5 0.8 0.7 0.6 0.7 0.9 0.5 1.2 0.4 0.5 1 0.6 0.5 0.7 0 0.9-0.2 1.1-0.1 0.9 0.2 0.7-0.1 0.4-0.5 1.3 0 0.6 0.5 3.5-0.4 1.5-0.9 1.8-2.3 3.4-2 2.4-1.6 1.3-5.3 1.5-1.1 0.7-1 1-1.7 2.9-1 1-0.7 0.6-5.1 3.1 0.9 2.1 1.5 1.2 3.2 0.6 2.5 0.8 0.6 0.1 1.3-0.3 4.7-2.7 1.2-1.2 0.7-0.9 0.1-0.9 0.3-0.4 2.3-2.5 0.4 0 0.4 0.4 1.1 2.2 0.3 0.5 1.7 0 5.7-1.7 7.3 1.9 3.3 0.4 1 0.5 0.7 0.5 3.5 4.6-0.9 0.8-0.3 0.5-0.8 0.8-0.6 0.5-0.4 1.3-0.3 0.6-0.5 0.7-0.2 0.6 0.1 1.1 1 4 0 1.4 0 1-0.5 1.6-0.1 1.5 0.2 1.2 0.1 0.7-0.3 2.3 0 1.5 0.4 0.9 0.7 1 4 3.6 0.5 0.3 1.2 0.4 1.1 0.7 1.1 0.4 2.8 2.7 1.1 0.6 0.5 0.4 0 0.2-0.4 0.5-0.1 0.7 0.1 0.9 0.5 1.9 0.6 1.3 1.2 1.8 6 7.5 0.5 0.9 0.5 2.5z" />
        <path id="Zilinsky" name="Žilinský" d="M530.9 109.1l0.2 0.8 3.7 6.3 0.8 2.2 0.7 2.5 0.1 3.3 0.2 1.7 0.8 1.5 0.6 0.3 0.5-0.1 0.9-1.2 0.7-0.4 1.2-0.1 1.1 0.2 1.1 0.9 0.9 1.5 1.1 2.7 0.6 0.9 0.6 0.3 0.4-0.5 0.5-0.2 0.5 0.2 0.5 1 0.6 0.8 0.6 0.4 0.6 0 3.5-0.6 2.4-1.1 0.9-0.3 0.9-0.1 0.5 1.1 0.1 2.1-1.1 7.9 0 3-0.2 2.2-0.9 3.9-0.1 3.3-0.4 1.7-0.6 0.7-1.2 0.1-1.9 0.9-0.9 0-1.3-0.1-0.6 0.1-0.2 0.7 0.2 1.1 6 7.9 1.1 1 0.8 1.1 0.6 1.3 0.2 2.3 0.7 2.6 0.4 1.1 0.4 0.7 0.5 0.6 0.9 0.3 1.9 0.4 0.4 0.6-0.3 1.1-2 2-1.8 1.5-6 2.6-2.3-1.7-0.8-0.1-0.9 0-3.1 1.5-2.1 0.2-0.4 0.2-16.8-0.4-4.9-1.4-1.7 0-8 2.3-2.1 1.2-0.6 0-0.7-0.2-0.9-0.9-1-1.1-0.6-0.3-1.8-0.5-0.6-0.4-1-1-1.3-1.1-11.3-4.2-13.3-1.6-29.4 5-5.8 7.3-3.7 2.1-1.9 2.5-0.3 1-0.3 1.7-0.1 0.5-0.6 0.9-0.9 0.7-1 0.3-7.1 1.1-0.9-0.2 0.4-1.1 0.4-0.4 0.8-0.3 0.1-0.6-0.1-1-0.3-2.1-0.3-1-0.4-0.6-0.9-0.6-0.3-0.9-0.2-0.5-1.4 0-29 4.2-8.3-0.5-2 4.7-0.5 0.7-0.9 0.9-2.9 1.4-0.4 0.7 0.1 0.9 0.9 3.2 0.2 1.6-0.2 1.1-0.7 1.1-0.5 0.6-0.2 0.8 0.2 1.2 1 1.8 2.3 2.2 0.3 0.3 0.1 0.9-0.1 1.3-0.6 3.1-0.4 1.6-2.4 4.5-14.9-0.9-3-0.7-0.4-1.1-0.8-1.1-0.4-1.1-0.3-0.4-2.1 0.7-7.5 5.3-0.5-2.5-0.5-0.9-6-7.5-1.2-1.8-0.6-1.3-0.5-1.9-0.1-0.9 0.1-0.7 0.4-0.5 0-0.2-0.5-0.4-1.1-0.6-2.8-2.7-1.1-0.4-1.1-0.7-1.2-0.4-0.5-0.3-4-3.6-0.7-1-0.4-0.9 0-1.5 0.3-2.3-0.1-0.7-0.2-1.2 0.1-1.5 0.5-1.6 0-1 0-1.4-1-4-0.1-1.1 0.2-0.6 0.5-0.7 0.3-0.6 0.4-1.3 0.6-0.5 0.8-0.8 0.3-0.5 0.9-0.8-3.5-4.6-0.7-0.5-1-0.5-3.3-0.4-7.3-1.9-5.7 1.7-1.7 0-0.3-0.5-1.1-2.2-0.4-0.4-0.4 0-2.3 2.5-0.3 0.4-0.1 0.9-0.7 0.9-1.2 1.2-4.7 2.7-1.3 0.3-0.6-0.1-2.5-0.8-3.2-0.6-1.5-1.2-0.9-2.1 5.1-3.1 0.7-0.6 1-1 1.7-2.9 1-1 1.1-0.7 5.3-1.5 1.6-1.3 2-2.4 2.3-3.4 0.9-1.8 0.4-1.5-0.5-3.5 0-0.6 0.5-1.3 0.1-0.4-0.2-0.7 0.1-0.9 0.2-1.1 0-0.9-0.5-0.7-1-0.6-0.4-0.5-0.5-1.2-0.7-0.9-0.7-0.6-2.5-0.8-1 0-0.3-0.6 0.7-0.9 4.7-5-2.1-3.3-0.2-0.6-0.2-1.1 0.1-1.1-0.1-1.9-0.5-1.3-1.4-2-0.9-0.8-3.2-2.1-1-0.2-0.7-0.3-0.7-0.5-2.2-2-0.5-0.4-1.3-0.2-4.2-2.8-1-1-1-1.3-2.2-4-0.3-0.6 0-0.7-0.2-0.6-0.9-1.7-0.1-0.8 0.4-1.1-0.2-0.7-0.5-0.9-10.8-18-0.2-0.5-0.1-1.1-0.1-2-3.1-1.1-0.8-1.2 4.1-3.2 0.4-12.8 5.1 1.1 4-2.6 7.4-9.1 5.8-3.1 1.4-1.5 0.9-2.4 0.4-5 1-2.2 3.6-2.3 7.7 1.1 5-2.6 1.2-0.3 1.2 0.3 5.8 2.9 5 1.5 5-0.3 7.1-6.6 3.3-1.3 7.2-0.2 17.3 1.7 5.1 3.1-1.5 4.5 0.2 3.9 0.8 3.6 0.5 4-0.8 8.9 1 3 3.4 0.7 4.5-0.4 6.8-3.9 3.8-1 1.6 0.6 3.5 2.6 1.6 0.8 1.9 0.1 4.4-0.8 5.4-2.2 1.2-2.2 0.5-3.3 1.2-5.3 0.5-0.1 2.2 0 0.7-0.6 0.5-1.8-0.4-1.3-0.8-1.1 2.8-8.8 2.3-3.8 2.6-2.5 2.9-1.4 3.3-0.7 5.4 0 1.8-0.2 2.5-1.1 1.3-1.1 15.2-16.8 0.7-1.4 1-0.4 2.5 1 2.9 5.2 1.3 1.4 4.2 2.8 2.1 5.4 3.2 13.7 2.8 8.5 0.9 2 3 2.3 3.7 1 7 0.1-0.8 1.7-0.3 1.4 0.1 4.2-0.4 3.3 10.1 3.4 3.8 0.5 3.5-0.4 5.9-2.4 1.6 1.3 1.7 5.1 0.8 4.4 1.1 13.1-0.3 1.1-1.3 2-0.1 1.1 0.6 0.9 2.4 1.8 0.3 0.7 1.4 1.5 0.3 1.2-0.4 1.5-1 0.6-1.1 0.3-0.8 0.6-6.6 10.9-0.7 3.5 2.2 3.2 4.4 1.6 8.1 0.6 3.9-1.5 2.5-2.5z" />
        <path id="Presovsky" name="Prešovský" d="M969.4 200.7l-8.2-2.1-0.8 0.1-4.5 1.3-5.8 0.3-0.9-0.3-0.6-0.6-0.2-1.4-0.1-1.7-2.7-6.4-0.3-1.3-0.1-1-0.2-1-0.5-1-3.1-1.8-4.7 0.1-6.6 8.9-3.7 1.6-1.1 1.2 0 1.2 0.1 0.7 0.7 2.4 0.5 2.6 0.1 1.2-0.2 0.9-0.4 0.2-0.6 0.2-10.1 0.2-5.2 0.9-3.3-0.1-3.7-1-8-4.8-1.1-1 0.1-0.4-0.4-0.5-1-0.5-2.4-1.2-16.9-5.5-6.6-0.2-0.2 6.7 0.3 1 0.1 0.8 0 3.5 0.1 1 0.7 2.8 0.1 0.5-0.1 1.7 0.1 0.7 0.2 0.8 1 2.3 0.3 1.1 0 1-0.3 1.1-0.5 1.5-0.7 0.8-1 0.6-3.3 1.1-2.9 2.6-4 0.7-1.2 0.6-0.4 1.3-0.7 0.8-0.7 0.4-1 0.3-1.4 0.3-1.7-0.2-1.9-0.6-3.3-2.5-1.2-0.5-1.5-0.2-3 0.2-4.5-0.8-11.1-4.4-5-9.2-0.9-1.3-1-2-0.5-1.7-0.2-2.6-0.2-1.3-2.1-5.2-2.4 1.3-0.5 0.4-0.8 0.6-1.4 0.3-1.3-0.2-2.3-1.1-0.8-1-0.4-0.8-0.3-1.3-0.3-0.1-0.4 0.6-0.2 2-0.2 1-0.3 0.6-0.5-0.2-0.7-0.8-1.2-1-0.7-0.2-0.8 0-1.7 0.5-0.6 0.5-0.2 0.5 0.6 1 0.2 0.7 0 0.8-0.4 3.5-0.5 1.9-0.5 1.1-0.6 0.6-1.3 0.5-2.7 0.3-2.1 0.8-0.8 0.2-2.5 0-0.9 0.1-0.7 0.3-0.7 1-0.1 0.6 0.2 1.1 0.2 0.4 1.1 1-0.1 0.4-0.5 0.2-2.3 0.3-2.1-0.3-1.9-0.9-3.2-3-2-3-0.1-1.2 0.2-0.6 0.4-0.6 1-1.2 0.6-1.1 1-1 0.3-0.8-0.3-1.4-0.3-0.3-0.5-0.1-1.1 0.4-0.9 0.1-0.9-0.2-1.2-1-1.2-0.5-1.7-0.1-2.6-0.9-3.6 0.7-1-0.5-1.5-1.4-0.9-1-0.9-1.3-0.4-0.5-2.1-1.4-0.7-0.2-0.8-0.1-3.2 1.1-0.8 0-3.4-0.4-6.7-2.3-2.4 0.3-1.2 0.3-0.6-0.3-0.7-0.6-1-1.5-0.6-1.5 0-0.5-0.5-0.7-2.9-2.8-0.8-1.2-0.4-1.2 0.1-1.4-0.1-0.7-0.5-1.4-0.7-0.3-1-0.2-2.4 0.4-1 0.4-0.6 0.3-0.4 0.7-0.7-0.2-5-3.2-3.6-0.6-3.5-3.1-5.6 1.2-0.8 0-1.1-0.3-2-1-0.6-0.6 0-0.7 0.7-0.8-0.1-0.5-1-0.5-2.7-0.7-4.2-1.9-1.9-0.4-0.5 0.1-0.2 0.7 0.1 0.5 0.5 1 0 0.6-0.3 1.9-0.1 1.1 0.5 0.6 1.2 0.9 0 0.3-0.9 0.5-11-1.9-3.2 0.2-1.1 0.3-0.8 0.4-0.2 0.4 0.1 0.8 0.5 1 0 0.6-0.9 1-1.2 0.9-1.8 0.8-2.2 0.3-2.1-0.2-1-0.4-2.2-3.6-0.3-0.7-0.9-0.4-1.5-0.4-3.6-0.4-4.2-2.5-4.7-3.6-0.9-0.8-0.4-0.8 0.4-1.9-0.1-0.8-0.9-0.3-0.8 0.2-1.4 1.5-0.5 0.9-0.2 0.8 0.9 1.6 0.1 0.5-0.7 0.4-4.1 1.4-0.5 0.3 0 0.9 0.3 1.4 0.3 0.7-0.1 0.2-2.8-3.9-3.9-2.7-1.3-0.3-0.6-0.7-0.4-0.2-0.7 0.3-2.8 2.7-0.8 0.5-0.5 0-0.4-0.2-0.5 0-0.5 0.3-1.2 1.1-7.6 3.4-2.4 1.5-0.8 0.9-2.3 3.2-2 1.9-0.1 0.6 0.5 0.5 2 0.4 2.3 0.7 2.6 3.3-5.2 3.3-1 1-1.2 1.8-2.1 5.2-2.6 2.5-7.1-4.3-1.3-1-0.9-0.5-3.5-1.1-3.2-1.7-1.1 0-2.8 2.4-3.3 0.3-25.2-3.2 6-2.6 1.8-1.5 2-2 0.3-1.1-0.4-0.6-1.9-0.4-0.9-0.3-0.5-0.6-0.4-0.7-0.4-1.1-0.7-2.6-0.2-2.3-0.6-1.3-0.8-1.1-1.1-1-6-7.9-0.2-1.1 0.2-0.7 0.6-0.1 1.3 0.1 0.9 0 1.9-0.9 1.2-0.1 0.6-0.7 0.4-1.7 0.1-3.3 0.9-3.9 0.2-2.2 0-3 1.1-7.9-0.1-2.1-0.5-1.1-0.9 0.1-0.9 0.3-2.4 1.1-3.5 0.6-0.6 0-0.6-0.4-0.6-0.8-0.5-1-0.5-0.2-0.5 0.2-0.4 0.5-0.6-0.3-0.6-0.9-1.1-2.7-0.9-1.5-1.1-0.9-1.1-0.2-1.2 0.1-0.7 0.4-0.9 1.2-0.5 0.1-0.6-0.3-0.8-1.5-0.2-1.7-0.1-3.3-0.7-2.5-0.8-2.2-3.7-6.3-0.2-0.8 3.4-3.6 3.2-2.3 5.6-0.6 4.9 2.5 9 8.5 5.8 2.9 3.4-2.7 1.8-6.7 1-9.4 2.2-2.6 1.2-3 1-3.2 3.4-7.5 1-1.4 0.4 0.5 3.9 0.4 1.7-1.6 3.8-4.6 2.7-1.5 13.5-1.2 0.9-1.2 1.2-3.7 0.9-3.8 0.4-2.5 0.6-1.7 1.8-1.3 2.1-0.1 7.2 2.7 9-0.3 0-4.6 2.7-0.7 14.9 7.6 3.8 1 4.1-1.5 2-1.9 2.8-3.5 1.8-1 1.6-0.1 3.8 0.6 6.7-1.1 2.7 0.5 15.5 18.6 2.8 2.1 3.9 0.6 3-0.2 2.8 0.4 3.3 2.5 2.8 2.9 2.9 2.1 3.2 0.6 4.1-1.5 3.8-3.3 5.7-8.4 3.6-3.5 2.8-0.6 3.7 0 3.2-0.7 1.4-2.4-2.1-4.1-4-2.5-2.2-2.4 3.6-4 2.7-1.3 7.1-1.4 2.7 0.2 3.2 2.2 2.5 2.8 2.6 1.9 3.8-0.7 3-2.8 5.5-8.1 3.2-2.2 2.4 0.6 9.8 5.2 17.1 4.9 2.9-0.1 6.5-1.4 2.5 0.8 5.9-2.4 12.6-1.4 3.2 0.8 1.8 1.2 3.3 3.2 1.7 1.2 1.4 0.2 2.7-0.6 1.7 0.5 3 3.1 5.9 9.1 2.7 2.2 1.8-1.3 2.5-2.9 3-2.8 3.5-0.7 3.2 1.9 6.5 5.9 9.4 4.7 6.3 6 5 8.2 2.3 9.5 1.1 8.5 5 3.7 12.4 2.4 5.7 3.6 2 0.9 1.8 0.2 4.2-0.6 1.4 0.3 1.9 2.2 0.1 1.9-0.5 1.7 0.4 1.7 1.3 1.1 8.2 2.5 9.7-0.4 3.7 1.5 8.9 9 6.4 2 13.7 0.6 6.1 3-1.3 4.4-1.3 6.1-0.8 6.2 0 4.5-2.7 2.3-6.7 1-3.1 2.4-3.8 11.2-2.2 4.8-0.2 1.3 0 3.4-0.3 1.7-1.7 2.3-4.2 3.6-1.3 1.9z" />
<g id="city-markers-svg">
    <circle id="marker_Bratislava" cx="60" cy="415" r="1" style="fill:none; stroke:none;" />
    <circle id="marker_Kosice" cx="750" cy="285" r="1" style="fill:none; stroke:none;" />
    <circle id="marker_Presov" cx="778" cy="180" r="1" style="fill:none; stroke:none;" />
    <circle id="marker_Zilina" cx="350" cy="130" r="1" style="fill:none; stroke:none;" />
    <circle id="marker_Banskabystrica" cx="400" cy="270" r="1" style="fill:none; stroke:none;" />
    <circle id="marker_Nitra" cx="255" cy="355" r="1" style="fill:none; stroke:none;" />
    <circle id="marker_Trnava" cx="135" cy="345" r="1" style="fill:none; stroke:none;" />
    <circle id="marker_Trencian" cx="210" cy="200" r="1" style="fill:none; stroke:none;" />
    <circle id="marker_Poprad" cx="640" cy="170" r="1" style="fill:none; stroke:none;" />
    <circle id="marker_Prievidza" cx="360" cy="275" r="1" style="fill:none; stroke:none;" />
    <circle id="marker_Považskabystrica" cx="275" cy="165" r="1" style="fill:none; stroke:none;" />
    <circle id="marker_Komarno" cx="235" cy="488" r="1" style="fill:none; stroke:none;" />
    <circle id="marker_Humenne" cx="900" cy="200" r="1" style="fill:none; stroke:none;" />
    <circle id="marker_LiptovskyMikulas" cx="475" cy="175" r="1" style="fill:none; stroke:none;" />
    <circle id="marker_Senica" cx="100" cy="260" r="1" style="fill:none; stroke:none;" />
    <circle id="marker_VelkyKrtis" cx="440" cy="400" r="1" style="fill:none; stroke:none;" />
    <circle id="marker_Rimasobota" cx="550" cy="380" r="1" style="fill:none; stroke:none;" />
    <circle id="marker_Sabinov" cx="740" cy="155" r="1" style="fill:none; stroke:none;" />
    <circle id="marker_Trebišov" cx="840" cy="310" r="1" style="fill:none; stroke:none;" />
</g>
</svg>
</div>
</div>
<div class="info-footer">
<div class="header-container" id="header-container">
<h1></h1>
<div class="time-display" id="clock"></div>
<div class="time-display" id="forecast-date" style="display: none;"></div>
<div class="view-toggle" id="time-of-day-toggle">
<button class="toggle-btn" data-view="morning"><i class="fa-solid fa-cloud-sun"></i> Ráno</button>
<button class="toggle-btn" data-view="noon"><i class="fa-solid fa-sun"></i> Obed</button>
<button class="toggle-btn" data-view="evening"><i class="fa-solid fa-cloud-moon"></i> Večer</button>
<button class="toggle-btn" data-view="night"><i class="fa-solid fa-moon"></i> Noc</button>
<button class="toggle-btn active" data-view="day"><i class="fa-solid fa-arrows-up-down"></i> Deň</button>
</div>
</div>
<div class="carousel-wrapper">
<button class="carousel-arrow arrow-left" id="carousel-left"><i class="fa-solid fa-chevron-left"></i></button>
<div class="carousel-container" id="forecast-carousel">
</div>
<button class="carousel-arrow arrow-right" id="carousel-right"><i class="fa-solid fa-chevron-right"></i></button>
</div>
<div class="cards-container">
<div id="mountain-weather-container" class="info-card">
<h2>Počasie v horách</h2>
<div id="mountain-details">
<p>Načítavam dáta...</p>
</div>
</div>
<div id="events-container" class="info-card events-card">
<h2>Najvýznamnejšie udalosti dňa</h2>
<div id="event-details">
<p>Načítavam dáta...</p>
</div>
</div>
</div>
</div>
<br>
    <div class="max-w-4xl mx-auto">
        <header class="text-center mb-8">
            <h1 class="text-3xl md:text-4xl font-bold text-slate-900" style="color: #fff;">Predpoveď počasia pre Slovensko</h1>
            <p class="text-slate-600 mt-2" style="color: #ffffff85;">Detailná textová predpoveď na najbližších 10 dní.</p>
        </header>

        <div id="day-selector" class="flex flex-wrap justify-center gap-2 mb-8" style="color: #000;">
            <!-- Day buttons will be generated here -->
        </div>

        <main id="forecast-container" class="bg-white p-6 sm:p-8 rounded-xl shadow-md min-h-[400px]" style="color:#000;">
            <div id="loading" class="flex flex-col items-center justify-center h-full">
                <svg class="animate-spin -ml-1 mr-3 h-10 w-10 text-blue-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                    <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                    <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                </svg>
                <p class="mt-4 text-slate-600">Načítavam dáta o počasí pre 20 miest...</p>
            </div>
            <div id="forecast-output" class="prose prose-slate hidden">
                <!-- Forecast text will be inserted here -->
            </div>
        </main>

        <footer class="text-center mt-8 text-sm text-slate-500">
            <p>Dáta poskytuje <a href="https://open-meteo.com/" target="_blank" class="underline hover:text-blue-600">Open-Meteo</a>. Predpoveď je generovaná na základe modelu ECMWF IFS 0.25°.</p>
        </footer>

    </div>

    <script>
        // Configuration: 20 major cities across Slovakia
        const CITIES = [
            // West
            { name: "Bratislava", region: "Západ", lat: 48.15, lon: 17.11 },
            { name: "Trnava", region: "Západ", lat: 48.38, lon: 17.59 },
            { name: "Nitra", region: "Západ", lat: 48.31, lon: 18.09 },
            { name: "Trenčín", region: "Západ", lat: 48.89, lon: 18.04 },
            { name: "Nové Zámky", region: "Západ", lat: 47.99, lon: 18.16 },
            { name: "Senica", region: "Západ", lat: 48.68, lon: 17.37 },
            // Central
            { name: "Banská Bystrica", region: "Stred", lat: 48.74, lon: 19.15 },
            { name: "Žilina", region: "Stred", lat: 49.22, lon: 18.74 },
            { name: "Martin", region: "Stred", lat: 49.07, lon: 18.92 },
            { name: "Zvolen", region: "Stred", lat: 48.57, lon: 19.13 },
            { name: "Prievidza", region: "Stred", lat: 48.77, lon: 18.62 },
            { name: "Liptovský Mikuláš", region: "Stred", lat: 49.08, lon: 19.62 },
            { name: "Ružomberok", region: "Stred", lat: 49.08, lon: 19.31 },
            // East
            { name: "Košice", region: "Východ", lat: 48.72, lon: 21.26 },
            { name: "Prešov", region: "Východ", lat: 49.00, lon: 21.24 },
            { name: "Poprad", region: "Východ", lat: 49.06, lon: 20.30 },
            { name: "Spišská Nová Ves", region: "Východ", lat: 48.94, lon: 20.56 },
            { name: "Michalovce", region: "Východ", lat: 48.75, lon: 21.92 },
            { name: "Humenné", region: "Východ", lat: 48.94, lon: 21.91 },
            { name: "Bardejov", region: "Východ", lat: 49.29, lon: 21.28 },
        ];

        const WMO_CODES_SK = {
            0: 'jasná obloha', 1: 'prevažne jasná obloha', 2: 'polooblačná obloha', 3: 'oblačná obloha',
            45: 'hmla', 48: 'mrznúca hmla',
            51: 'slabé mrholenie', 53: 'mierne mrholenie', 55: 'husté mrholenie',
            56: 'slabé mrznúce mrholenie', 57: 'husté mrznúce mrholenie',
            61: 'slabý dážď', 63: 'mierny dážď', 65: 'silný dážď',
            66: 'slabý mrznúci dážď', 67: 'silný mrznúci dážď',
            71: 'slabé sneženie', 73: 'mierne sneženie', 75: 'husté sneženie',
            77: 'snehové zrná',
            80: 'slabé prehánky', 81: 'mierne prehánky', 82: 'silné prehánky',
            85: 'slabé snehové prehánky', 86: 'silné snehové prehánky',
            95: 'búrka', 96: 'búrka so slabým krupobitím', 99: 'búrka so silným krupobitím'
        };

        const dom = {
            loading: document.getElementById('loading'),
            forecastOutput: document.getElementById('forecast-output'),
            daySelector: document.getElementById('day-selector')
        };

        let fullForecastData = null;

        document.addEventListener('DOMContentLoaded', async () => {
            setupDaySelector();
            try {
                fullForecastData = await fetchAllWeatherData();
                displayForecastForDay(0);
                dom.loading.classList.add('hidden');
                dom.forecastOutput.classList.remove('hidden');
            } catch (error) {
                console.error("Chyba pri načítaní dát:", error);
                dom.loading.innerHTML = '<p class="text-red-600">Nepodarilo sa načítať dáta o počasí. Skúste to prosím neskôr.</p>';
            }
        });
        
        function setupDaySelector() {
            const today = new Date();
            const options = { weekday: 'short', day: 'numeric' };
            let buttonsHtml = '';
            for (let i = 0; i < 10; i++) {
                const date = new Date(today);
                date.setDate(today.getDate() + i);
                const dateString = date.toLocaleDateString('sk-SK', options);
                buttonsHtml += `<button data-day-index="${i}" class="day-btn px-4 py-2 rounded-lg text-sm font-medium transition-colors duration-200 bg-white hover:bg-blue-100 border border-slate-200">
                    ${i === 0 ? 'Dnes' : i === 1 ? 'Zajtra' : dateString.charAt(0).toUpperCase() + dateString.slice(1)}
                </button>`;
            }
            dom.daySelector.innerHTML = buttonsHtml;
            dom.daySelector.querySelector('[data-day-index="0"]').classList.add('active');

            dom.daySelector.addEventListener('click', (e) => {
                if (e.target.matches('.day-btn')) {
                    const dayIndex = parseInt(e.target.dataset.dayIndex, 10);
                    displayForecastForDay(dayIndex);
                    
                    dom.daySelector.querySelectorAll('.day-btn').forEach(btn => btn.classList.remove('active'));
                    e.target.classList.add('active');
                }
            });
        }

        async function fetchAllWeatherData() {
            const variables = 'temperature_2m,precipitation_probability,weather_code,wind_speed_10m,wind_direction_10m';
            const promises = CITIES.map(city => {
                const url = `https://api.open-meteo.com/v1/forecast?latitude=${city.lat}&longitude=${city.lon}&hourly=${variables}&timezone=auto&forecast_days=11`;
                return fetch(url).then(response => {
                    if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);
                    return response.json();
                }).then(data => ({ ...city, ...data }));
            });
            return Promise.all(promises);
        }

        function displayForecastForDay(dayIndex) {
            if (!fullForecastData) return;
            const forecastText = generateForecastText(fullForecastData, dayIndex);
            dom.forecastOutput.innerHTML = forecastText;
        }

        function generateForecastText(data, dayIndex) {
            const date = new Date(data[0].hourly.time[dayIndex * 24]);
            const dateOptions = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
            const formattedDate = date.toLocaleDateString('sk-SK', dateOptions);

            const allDayData = data.map(city => extractDayData(city.hourly, dayIndex));

            const westData = processRegionData(allDayData.filter((d, i) => data[i].region === 'Západ'));
            const centralData = processRegionData(allDayData.filter((d, i) => data[i].region === 'Stred'));
            const eastData = processRegionData(allDayData.filter((d, i) => data[i].region === 'Východ'));

            return `
                <h2>Predpoveď počasia na ${formattedDate}</h2>
                ${generateIntegratedNarrative(westData, centralData, eastData)}
            `;
        }
        
        function generateIntegratedNarrative(west, central, east) {
            const title = 'Zhrnutie pre Slovensko';
            
            if (!west.morning || !central.morning || !east.morning) {
                return `<h3>${title}</h3><p>Pre dnešný deň nie sú k dispozícii kompletné dáta.</p>`;
            }

            let text = `Ráno bude na Slovensku prevládať ${west.morning.weatherDescription}, najmä na západe. Teploty sa budú pohybovať od ${central.morning.tempMin}°C v horských oblastiach stredného Slovenska do ${west.morning.tempMax}°C v nížinách. `;
            
            text += `Popoludní sa na celom území oteplí. Najvyššie denné teploty dosiahnu na západe ${west.afternoon.tempMin} až ${west.afternoon.tempMax}°C, na strednom Slovensku ${central.afternoon.tempMin} až ${central.afternoon.tempMax}°C a na východe ${east.afternoon.tempMin} až ${east.afternoon.tempMax}°C. `;

            if (west.afternoon.precipProb > 30 || central.afternoon.precipProb > 30 || east.afternoon.precipProb > 30) {
                text += `V priebehu dňa sa miestami, najmä na ${central.afternoon.precipProb > west.afternoon.precipProb ? 'strednom a východnom' : 'západnom'} Slovensku, môžu vyskytnúť ${central.afternoon.precipText}. `;
            } else {
                text += `Zrážky sa očakávajú len ojedinele. `;
            }
            
            text += `Fúkať bude prevažne ${central.afternoon.windDescription}, ktorý môže byť na horách a na východe o niečo silnejší. `;
            text += `Večer sa postupne ochladí a v noci bude prevládať ${west.night.weatherDescription}. Najnižšie teploty klesnú na ${central.night.tempMin}°C na severe a ${west.night.tempMin}°C na juhu krajiny.`;

            return `
                <h3>${title}</h3>
                <p>${text}</p>
            `;
        }

        function extractDayData(hourly, dayIndex) {
            const start = dayIndex * 24;
            const end = start + 24 + 6; 
            
            if (!hourly.temperature_2m || !hourly.weather_code || !hourly.precipitation_probability || !hourly.wind_speed_10m || !hourly.wind_direction_10m) {
                console.error("Missing hourly data for a city:", hourly);
                return { temps: [], codes: [], precip: [], winds: [], windDirs: [] };
            }

            return {
                temps: hourly.temperature_2m.slice(start, end),
                codes: hourly.weather_code.slice(start, end),
                precip: hourly.precipitation_probability.slice(start, end),
                winds: hourly.wind_speed_10m.slice(start, end),
                windDirs: hourly.wind_direction_10m.slice(start, end)
            };
        }

        function processTimeSlice(data, start, end) {
            const temps = data.flatMap(d => d.temps.slice(start, end));
            const codes = data.flatMap(d => d.codes.slice(start, end));
            const precips = data.flatMap(d => d.precip.slice(start, end));
            const winds = data.flatMap(d => d.winds.slice(start, end));
            const windDirs = data.flatMap(d => d.windDirs.slice(start, end));

            if (temps.length === 0) {
                return null;
            }

            const tempMin = Math.round(Math.min(...temps));
            const tempMax = Math.round(Math.max(...temps));
            
            const codeCounts = codes.reduce((acc, code) => { acc[code] = (acc[code] || 0) + 1; return acc; }, {});
            const dominantCode = Object.keys(codeCounts).reduce((a, b) => codeCounts[a] > codeCounts[b] ? a : b);
            
            const maxPrecip = Math.max(...precips);
            let precipText;
            if (maxPrecip < 15) {
                precipText = 'ojedinelé zrážky';
            } else if (maxPrecip < 40) {
                precipText = 'slabé, lokálne prehánky';
            } else if (maxPrecip < 70) {
                precipText = 'prehánky alebo dážď';
            } else {
                precipText = 'častejší dážď';
            }

            const avgWindSpeed = winds.reduce((a, b) => a + b, 0) / winds.length;
            const avgWindDir = windDirs.reduce((a, b) => a + b, 0) / windDirs.length;
            const windDirGenitiveStr = getWindDirectionGenitive(avgWindDir);
            let windSpeedStr;
            if (avgWindSpeed < 12) windSpeedStr = 'slabý vietor';
            else if (avgWindSpeed < 25) windSpeedStr = 'mierny vietor';
            else if (avgWindSpeed < 40) windSpeedStr = 'čerstvý vietor';
            else windSpeedStr = 'silný vietor';

            return {
                weatherDescription: WMO_CODES_SK[dominantCode],
                tempMin: tempMin,
                tempMax: tempMax,
                windDescription: `${windSpeedStr} ${windDirGenitiveStr} smerov`,
                precipText: precipText,
                precipProb: maxPrecip
            };
        }

        function processRegionData(regionDayData) {
            return {
                morning: processTimeSlice(regionDayData, 6, 12),
                afternoon: processTimeSlice(regionDayData, 12, 18),
                evening: processTimeSlice(regionDayData, 18, 22),
                night: processTimeSlice(regionDayData, 22, 30)
            };
        }
        
        function getWindDirectionGenitive(deg) {
            const directions = {
                0: 'severných', 45: 'severovýchodných', 90: 'východných', 135: 'juhovýchodných',
                180: 'južných', 225: 'juhozápadných', 270: 'západných', 315: 'severozápadných'
            };
            const degrees = Object.keys(directions).map(Number);
            const closest = degrees.reduce((a, b) => {
                const diffA = Math.min(Math.abs(a - deg), 360 - Math.abs(a - deg));
                const diffB = Math.min(Math.abs(b - deg), 360 - Math.abs(b - deg));
                return diffB < diffA ? b : a;
            });
            return directions[closest];
        }

    </script>

<div id="details-modal">
<div id="details-modal-content">
<div class="modal-header">
<h3 id="modal-title"></h3>
<button id="modal-close-btn">&times;</button>
</div>
<div id="modal-body"></div>
</div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function () {
// --- KONFIGURÁCIA ---
const FORECAST_API_URL = 'https://api.open-meteo.com/v1/forecast';
const AIR_QUALITY_API_URL = 'https://air-quality-api.open-meteo.com/v1/air-quality';
const ICON_BASE_URL_DAY = 'https://www.meteopocasie.sk/3d_iconset_day/';
const ICON_BASE_URL_NIGHT = 'https://www.meteopocasie.sk/3d_iconset_night/';
const FORECAST_DAYS = 13;

const TEMP_COLOR_SCALE = [
[-40, [255, 252, 255]], [-35, [255, 218, 250]], [-30, [225, 171, 255]], [-25, [207, 120, 255]],
[-20, [141, 120, 255]], [-15, [88, 114, 255]], [-10, [0, 84, 255]], [-5, [0, 166, 255]],
[0, [0, 247, 255]], [5, [0, 255, 11]], [10, [159, 255, 0]], [15, [255, 246, 0]],
[20, [245, 190, 0]], [25, [255, 111, 0]], [30, [255, 38, 0]], [35, [190, 2, 2]],
[40, [152, 0, 255]], [45, [115, 0, 181]], [50, [45, 31, 143]]
];

const cities = [
{ name: "Bratislava", lat: 48.1486, lon: 17.1077, regionId: 'Bratislavsky', isMajor: true, svgId: 'Bratislava' },
{ name: "Košice", lat: 48.7139, lon: 21.2581, regionId: 'Kosicky', isMajor: true, svgId: 'Kosice' },
{ name: "Prešov", lat: 48.9965, lon: 21.2417, regionId: 'Presovsky', isMajor: true, svgId: 'Presov' },
{ name: "Žilina", lat: 49.2231, lon: 18.7394, regionId: 'Zilinsky', isMajor: true, svgId: 'Zilina' },
{ name: "B. Bystrica", lat: 48.7366, lon: 19.1477, regionId: 'Banskobystricky', isMajor: true, svgId: 'Banskabystrica' },
{ name: "Nitra", lat: 48.3076, lon: 18.0845, regionId: 'Nitriansky', isMajor: true, svgId: 'Nitra' },
{ name: "Trnava", lat: 48.3774, lon: 17.5872, regionId: 'Trnavsky', isMajor: true, svgId: 'Trnava' },
{ name: "Trenčín", lat: 48.8945, lon: 18.0443, regionId: 'Trenciansky', isMajor: true, svgId: 'Trencian' },
{ name: "Poprad", lat: 49.0547, lon: 20.3028, regionId: 'Presovsky', isMajor: false, svgId: 'Poprad' },
{ name: "Prievidza", lat: 48.7744, lon: 18.6276, regionId: 'Trenciansky', isMajor: false, svgId: 'Prievidza' },
{ name: "Pov. Bystrica", lat: 49.1147, lon: 18.4216, regionId: 'Trenciansky', isMajor: false, svgId: 'Považskabystrica' },
{ name: "Komárno", lat: 47.7636, lon: 18.1256, regionId: 'Nitriansky', isMajor: false, svgId: 'Komarno' },
{ name: "Humenné", lat: 48.934, lon: 21.91, regionId: 'Presovsky', isMajor: false, svgId: 'Humenne' },
{ name: "Lipt. Mikuláš", lat: 49.084, lon: 19.6023, regionId: 'Zilinsky', isMajor: false, svgId: 'LiptovskyMikulas' },
{ name: "Senica", lat: 48.6798, lon: 17.3684, regionId: 'Trnavsky', isMajor: false, svgId: 'Senica' },
{ name: "Veľký Krtíš", lat: 48.212, lon: 19.343, regionId: 'Banskobystricky', isMajor: false, svgId: 'VelkyKrtis' },
{ name: "Rim. Sobota", lat: 48.3801, lon: 20.017, regionId: 'Banskobystricky', isMajor: false, svgId: 'Rimasobota' },
{ name: "Sabinov", lat: 49.103, lon: 21.099, regionId: 'Presovsky', isMajor: false, svgId: 'Sabinov' },
{ name: "Trebišov", lat: 48.631, lon: 21.718, regionId: 'Kosicky', isMajor: false, svgId: 'Trebišov' }
];

const WEATHER_CODES = { 0: {icon: "01", desc: "Jasno"}, 1: {icon: "02", desc: "Prevažne jasno"}, 2: {icon: "03", desc: "Polooblačno"}, 3: {icon: "04", desc: "Zamračené"}, 45: {icon: "50", desc: "Hmla"}, 48: {icon: "50", desc: "Inovať"}, 51: {icon: "09", desc: "Slabé mrholenie"}, 53: {icon: "09", desc: "Mierne mrholenie"}, 55: {icon: "09", desc: "Husté mrholenie"}, 56: {icon: "13", desc: "Slabé mrznúce mrholenie"}, 57: {icon: "13", desc: "Husté mrznúce mrholenie"}, 61: {icon: "10", desc: "Slabý dážď"}, 63: {icon: "10", desc: "Mierny dážď"}, 65: {icon: "10", desc: "Silný dážď"}, 66: {icon: "13", desc: "Slabý mrznúci dážď"}, 67: {icon: "13", desc: "Silný mrznúci dážď"}, 71: {icon: "13", desc: "Slabé sneženie"}, 73: {icon: "13", desc: "Mierne sneženie"}, 75: {icon: "13", desc: "Silné sneženie"}, 77: {icon: "13", desc: "Snehové zrná"}, 80: {icon: "09", desc: "Slabé prehánky"}, 81: {icon: "09", desc: "Mierne prehánky"}, 82: {icon: "09", desc: "Silné prehánky"}, 85: {icon: "13", desc: "Slabé snehové prehánky"}, 86: {icon: "13", desc: "Silné snehové prehánky"}, 95: {icon: "11", desc: "Búrka"}, 96: {icon: "11", desc: "Búrka so slabým krupobitím"}, 99: {icon: "11", desc: "Búrka so silným krupobitím"}};
const getWeatherInfo = (code) => WEATHER_CODES[code] || { icon: "01", desc: "Neznáme" };
const getWeatherIconUrl = (code, isDay) => { const iconInfo = getWeatherInfo(code); const timeSuffix = isDay ? 'd' : 'n'; const baseUrl = isDay ? ICON_BASE_URL_DAY : ICON_BASE_URL_NIGHT; return `${baseUrl}${iconInfo.icon}${timeSuffix}.png`; };

const [weatherOverlay, loader, clockElement, forecastDateElement, eventDetails, mountainDetails, modal, modalTitle, modalBody, modalCloseBtn, forecastCarousel, headerContainer, carouselLeft, carouselRight, timeOfDayToggle, animationCanvas] =
['weather-overlay', 'loader', 'clock', 'forecast-date', 'event-details', 'mountain-details', 'details-modal', 'modal-title', 'modal-body', 'modal-close-btn', 'forecast-carousel', 'header-container', 'carousel-left', 'carousel-right', 'time-of-day-toggle', 'weather-animation-canvas'].map(id => document.getElementById(id));

const svg = document.getElementById('slovakia-svg');
let svgToOverlayMatrix;

let fullWeatherData = [];
let clockInterval;
let currentView = { dayIndex: -1, timeOfDay: 'now' };
let activeRegionId = null;

function getTempColor(temp) {
let lowerPoint = TEMP_COLOR_SCALE[0]; let upperPoint = TEMP_COLOR_SCALE[TEMP_COLOR_SCALE.length - 1];
for (let i = 0; i < TEMP_COLOR_SCALE.length - 1; i++) { if (temp >= TEMP_COLOR_SCALE[i][0] && temp < TEMP_COLOR_SCALE[i + 1][0]) { lowerPoint = TEMP_COLOR_SCALE[i]; upperPoint = TEMP_COLOR_SCALE[i + 1]; break; } }
if (temp >= upperPoint[0]) { lowerPoint = TEMP_COLOR_SCALE[TEMP_COLOR_SCALE.length - 2] || TEMP_COLOR_SCALE[0]; upperPoint = TEMP_COLOR_SCALE[TEMP_COLOR_SCALE.length - 1]; }
if (temp < lowerPoint[0]) { lowerPoint = TEMP_COLOR_SCALE[0]; upperPoint = TEMP_COLOR_SCALE[1] || TEMP_COLOR_SCALE[0]; }
const [tempLower, colorLower] = lowerPoint; const [tempUpper, colorUpper] = upperPoint;
const range = tempUpper - tempLower; const position = (range === 0) ? 1 : (temp - tempLower) / range;
const r = Math.round(colorLower[0] + (colorUpper[0] - colorLower[0]) * position); const g = Math.round(colorLower[1] + (colorUpper[1] - colorLower[1]) * position); const b = Math.round(colorLower[2] + (colorUpper[2] - colorLower[2]) * position);
return `rgb(${r}, ${g}, ${b})`;
}

function createFullGradient(tempMin, tempMax) {
const stops = [];
const tempRange = tempMax - tempMin;
if (tempRange <= 0) {
return `linear-gradient(to left, ${getTempColor(tempMin)}, ${getTempColor(tempMax)})`;
}

// Add start color
stops.push(getTempColor(tempMin));

// Add intermediate colors from the scale that fall within the range
TEMP_COLOR_SCALE.forEach(([temp, color]) => {
if (temp > tempMin && temp < tempMax) {
stops.push(`rgb(${color.join(',')})`);
}
});

// Add end color
stops.push(getTempColor(tempMax));

// Remove duplicates and create gradient string
const uniqueStops = [...new Set(stops)];
return `linear-gradient(to left, ${uniqueStops.join(', ')})`;
}

async function getWeatherData(city) {
const weatherParams = new URLSearchParams({
latitude: city.lat, longitude: city.lon,
current: 'temperature_2m,relative_humidity_2m,apparent_temperature,is_day,weather_code,pressure_msl,wind_speed_10m,wind_direction_10m,wind_gusts_10m',
hourly: 'temperature_2m,weather_code,is_day,cape,uv_index,precipitation_probability,wind_gusts_10m',
daily: 'weather_code,temperature_2m_max,temperature_2m_min,sunrise,sunset,precipitation_sum,wind_gusts_10m_max,uv_index_max,precipitation_probability_max',
forecast_days: FORECAST_DAYS, timezone: 'auto',
models: 'ecmwf_ifs025'
});
const airQualityParams = new URLSearchParams({
latitude: city.lat, longitude: city.lon,
hourly: 'european_aqi'
});
try {
const [weatherResponse, airQualityResponse] = await Promise.all([
fetch(`${FORECAST_API_URL}?${weatherParams}`),
fetch(`${AIR_QUALITY_API_URL}?${airQualityParams}`)
]);
if (!weatherResponse.ok) throw new Error(`Weather API error: ${weatherResponse.statusText}`);
if (!airQualityResponse.ok) throw new Error(`Air Quality API error: ${airQualityResponse.statusText}`);
const weatherData = await weatherResponse.json();
const airQualityData = await airQualityResponse.json();

// Process thunderstorm risk
if (weatherData.daily && weatherData.hourly) {
weatherData.daily.thunderstorm_risk = [];
for(let i = 0; i < weatherData.daily.time.length; i++) {
const dayStr = weatherData.daily.time[i];
let risk = false;
for (let j = 0; j < 24; j++) {
const hourStr = `${dayStr}T${j.toString().padStart(2, '0')}:00`;
const hourIndex = weatherData.hourly.time.indexOf(hourStr);
if (hourIndex !== -1) {
const cape = weatherData.hourly.cape[hourIndex];
const precip = weatherData.hourly.precipitation_probability[hourIndex];
if (cape > 500 && precip > 40) {
risk = true;
break;
}
}
}
weatherData.daily.thunderstorm_risk.push(risk);
}
}

return { ...city, ...weatherData, air_quality: airQualityData };
} catch (error) {
console.error(`Chyba pri načítavaní dát pre ${city.name}:`, error);
return { ...city, current: null, daily: null, hourly: null, air_quality: null };
}
}

async function getMountainWeatherData(lat, lon, elevation) {
const params = new URLSearchParams({ latitude: lat, longitude: lon, daily: 'weather_code,temperature_2m_max,temperature_2m_min', elevation: elevation, forecast_days: FORECAST_DAYS, timezone: 'auto', models: 'ecmwf_ifs025' });
try {
const response = await fetch(`${FORECAST_API_URL}?${params}`);
if (!response.ok) throw new Error('Network response was not ok for mountains');
return await response.json();
} catch (error) {
console.error(`Chyba pri načítavaní dát pre hory:`, error);
return null;
}
}

function displayWeatherMarkers(dayIndex, timeOfDay) {
weatherOverlay.innerHTML = '';
let dominantCodeForAnimation = 0;
let codeCounts = {};
let cityCount = 0;

fullWeatherData.forEach((cityData, index) => {
if (activeRegionId && cityData.regionId !== activeRegionId) {
return;
}

if (!cityData.daily || (dayIndex > -1 && dayIndex >= cityData.daily.time.length)) return;

const dayData = cityData.daily;
let temp, code, is_day, displayDayIndex = dayIndex === -1 ? 0 : dayIndex;

if (dayIndex === -1) {
if (!cityData.current) return;
temp = cityData.current.temperature_2m;
code = cityData.current.weather_code;
is_day = cityData.current.is_day;
} else {
const hourlyData = cityData.hourly;
const targetDateStr = dayData.time[displayDayIndex];

switch(timeOfDay) {
case 'morning':
case 'noon':
case 'evening':
const hour = timeOfDay === 'morning' ? 8 : (timeOfDay === 'noon' ? 13 : 19);
const targetHourStr = `${targetDateStr}T${hour.toString().padStart(2, '0')}:00`;
const hourIndex = hourlyData.time.indexOf(targetHourStr);
if (hourIndex > -1) {
temp = hourlyData.temperature_2m[hourIndex];
code = hourlyData.weather_code[hourIndex];
is_day = hourlyData.is_day[hourIndex];
} else {
temp = dayData.temperature_2m_max[displayDayIndex];
code = dayData.weather_code[displayDayIndex];
is_day = 1;
}
break;
case 'night':
temp = dayData.temperature_2m_min[displayDayIndex];
code = dayData.weather_code[displayDayIndex];
is_day = 0;
break;
case 'day':
default:
temp = dayData.temperature_2m_max[displayDayIndex];
code = dayData.weather_code[displayDayIndex];
is_day = 1;
break;
}
}

cityCount++;
codeCounts[code] = (codeCounts[code] || 0) + 1;

let warningIconsHTML = '';
if (dayData.temperature_2m_max[displayDayIndex] > 35) { warningIconsHTML += `<i class="fa-solid fa-temperature-full" style="color: #ff4500;" title="Vysoká teplota"></i>`; }
if (dayData.wind_gusts_10m_max[displayDayIndex] > 40) { warningIconsHTML += `<i class="fa-solid fa-wind" style="color: #ffff00;" title="Silný vietor"></i>`; }
if (dayData.precipitation_sum[displayDayIndex] > 10) { warningIconsHTML += `<i class="fa-solid fa-cloud-showers-heavy" style="color: #1e90ff;" title="Výdatné zrážky"></i>`; }
if (dayData.weather_code[displayDayIndex] === 75) { warningIconsHTML += `<i class="fa-solid fa-snowflake" style="color: #ffffff;" title="Husté sneženie"></i>`; }
if (dayData.uv_index_max[displayDayIndex] > 8) { warningIconsHTML += `<i class="fa-solid fa-sun" style="color: #ff00ff;" title="Extrémny UV index"></i>`; }
if (dayData.thunderstorm_risk && dayData.thunderstorm_risk[displayDayIndex]) { warningIconsHTML += `<i class="fa-solid fa-bolt" style="color: #ffff00;" title="Možnosť búrok"></i>`; }


const marker = document.createElement('div');
marker.className = 'weather-marker';
if (activeRegionId) {
marker.classList.add('enlarged');
}
marker.dataset.regionId = cityData.regionId;
marker.dataset.svgId = cityData.svgId; // Ukladáme ID SVG markera
marker.onclick = () => openModal(index, dayIndex);

const iconUrl = getWeatherIconUrl(code, is_day);

const tempString = dayIndex === -1 ? temp.toFixed(1) : Math.round(temp);

marker.innerHTML = `
<div class="info-box">
<div class="city-name">${cityData.name}</div>
</div>
<div class="icon-container">
<img src="${iconUrl}" alt="Počasie v ${cityData.name}" onerror="this.onerror=null;this.src='https://placehold.co/45x45/002043/fff?text=?';">
<div class="warning-icons">${warningIconsHTML}</div>
</div>
<div class="temperature ${temp >= 25 ? 'hot' : ''}" style="background-color: ${getTempColor(temp)};">${tempString}°C</div>
`;
weatherOverlay.appendChild(marker);
});

if (Object.keys(codeCounts).length > 0) {
dominantCodeForAnimation = Object.keys(codeCounts).reduce((a, b) => codeCounts[a] > codeCounts[b] ? a : b);
}
startWeatherAnimation(dominantCodeForAnimation);

// Aktualizujeme pozície markerov
updateMarkerPositions();
}

function updateMarkerPositions() {
    const mapRect = svg.getBoundingClientRect();
    const svgPoint = svg.createSVGPoint(); // Vytvorí SVGPoint objekt raz
    
    document.querySelectorAll('.weather-marker').forEach(marker => {
        const svgId = `marker_${marker.dataset.svgId}`;
        const svgElement = document.getElementById(svgId);
        
        if (!svgElement) return;
        
        // Získame globálne súradnice elementu v SVG
        const svgElementRect = svgElement.getBoundingClientRect();
        const svgElementX = svgElementRect.left + svgElementRect.width / 2;
        const svgElementY = svgElementRect.top + svgElementRect.height / 2;
        
        // Prepočet globálnych súradníc na súradnice v rámci mapy
        const xPercent = ((svgElementX - mapRect.left) / mapRect.width) * 100;
        const yPercent = ((svgElementY - mapRect.top) / mapRect.height) * 100;
        
        marker.style.left = `${xPercent}%`;
        marker.style.top = `${yPercent}%`;
        
        // Pre mobilné zobrazenie, skryť/zobraziť markery podľa zoomu
        if (activeRegionId) {
            const isVisible = marker.dataset.regionId === activeRegionId;
            marker.style.display = isVisible ? 'flex' : 'none';
        } else {
            marker.style.display = 'flex';
        }
    });
}

// Obsah ďalších funkcií zostáva nezmenený...
function getWindDirection(degrees) {
const directions = ['S', 'SV', 'V', 'JV', 'J', 'JZ', 'Z', 'SZ'];
return directions[Math.round(degrees / 45) % 8];
}

function getAqiInfo(aqi) {
if (aqi <= 20) return { text: 'Výborná', color: '#2ecc71' };
if (aqi <= 40) return { text: 'Dobrá', color: '#f1c40f' };
if (aqi <= 60) return { text: 'Mierna', color: '#e67e22' };
if (aqi <= 80) return { text: 'Zlá', color: '#e74c3c' };
if (aqi <= 100) return { text: 'Veľmi zlá', color: '#9b59b6' };
return { text: 'Extrémne zlá', color: '#7f8c8d' };
}

function openModal(cityIndex, dayIndex) {
const cityData = fullWeatherData[cityIndex];
if (!cityData) return;

const isCurrent = dayIndex === -1;
const displayDayIndex = isCurrent ? 0 : dayIndex;

modalTitle.innerHTML = `<i class="fa-solid fa-location-dot"></i> ${cityData.name}`;

let bodyHtml = '';

if (isCurrent && cityData.current) {
const { current, hourly, daily, air_quality } = cityData;
const now = new Date();
const currentHourIndex = hourly.time.findIndex(t => new Date(t) >= now);
const windDir = current.wind_direction_10m;
const aqi = air_quality?.hourly?.european_aqi[currentHourIndex];
const aqiInfo = aqi ? getAqiInfo(aqi) : {text: 'N/A', color: '#fff'};

bodyHtml = `
<div class="detail-item" style="grid-column: 1 / -1;"><div class="label">Aktuálne</div><div class="value">${getWeatherInfo(current.weather_code).desc}</div></div>
<div class="detail-item"><div class="label">Teplota</div><div class="value">${current.temperature_2m.toFixed(1)} °C</div></div>
<div class="detail-item"><div class="label">Pocitová</div><div class="value">${current.apparent_temperature.toFixed(1)} °C</div></div>
<div class="detail-item"><div class="label">Vietor</div><div class="value">${Math.round(current.wind_speed_10m)} km/h ${getWindDirection(windDir)} <i class="fa-solid fa-location-arrow" style="transform: rotate(${windDir-45}deg);"></i></div></div>
<div class="detail-item"><div class="label">Nárazy</div><div class="value">${Math.round(current.wind_gusts_10m)} km/h</div></div>
<div class="detail-item"><div class="label">Vlhkosť</div><div class="value">${current.relative_humidity_2m} %</div></div>
<div class="detail-item"><div class="label">Tlak</div><div class="value">${Math.round(current.pressure_msl)} hPa</div></div>
<div class="detail-item"><div class="label">Kvalita ovzdušia</div><div class="value" style="color: ${aqiInfo.color};">${aqiInfo.text}</div></div>
<div class="detail-item"><div class="label">Šanca zrážok</div><div class="value">${hourly.precipitation_probability[currentHourIndex] || 'N/A'}%</div></div>
<div class="detail-item" style="grid-column: 1 / -1;"><div class="label">Východ / Západ</div><div class="value"><i class="fa-regular fa-sun"></i>${new Date(daily.sunrise[0]).toLocaleTimeString('sk-SK', {hour:'2-digit', minute:'2-digit'})} <i class="fa-regular fa-moon"></i>${new Date(daily.sunset[0]).toLocaleTimeString('sk-SK', {hour:'2-digit', minute:'2-digit'})}</div></div>
`;
} else if (!isCurrent && cityData.daily) {
const daily = cityData.daily;
bodyHtml = `
<div class="detail-item" style="grid-column: 1 / -1;"><div class="label">Predpoveď</div><div class="value">${getWeatherInfo(daily.weather_code[displayDayIndex]).desc}</div></div>
<div class="detail-item"><div class="label">Max. teplota</div><div class="value">${Math.round(daily.temperature_2m_max[displayDayIndex])} °C</div></div>
<div class="detail-item"><div class="label">Min. teplota</div><div class="value">${Math.round(daily.temperature_2m_min[displayDayIndex])} °C</div></div>
<div class="detail-item"><div class="label">Max. nárazy vetra</div><div class="value">${Math.round(daily.wind_gusts_10m_max[displayDayIndex])} km/h</div></div>
<div class="detail-item"><div class="label">Úhrn zrážok</div><div class="value">${daily.precipitation_sum[displayDayIndex].toFixed(1)} mm</div></div>
<div class="detail-item"><div class="label">Max. UV Index</div><div class="value">${daily.uv_index_max[displayDayIndex].toFixed(1)}</div></div>
<div class="detail-item"><div class="label">Max. šanca zrážok</div><div class="value">${daily.precipitation_probability_max[displayDayIndex]}%</div></div>
<div class="detail-item" style="grid-column: 1 / -1;"><div class="label">Východ / Západ</div><div class="value"><i class="fa-regular fa-sun"></i>${new Date(daily.sunrise[displayDayIndex]).toLocaleTimeString('sk-SK', {hour:'2-digit', minute:'2-digit'})} <i class="fa-regular fa-moon"></i>${new Date(daily.sunset[displayDayIndex]).toLocaleTimeString('sk-SK', {hour:'2-digit', minute:'2-digit'})}</div></div>
`;
}

modalBody.innerHTML = bodyHtml;
modal.classList.add('visible');
}

function closeModal() {
modal.classList.remove('visible');
}

function renderForecastCarousel() {
forecastCarousel.innerHTML = '';
const days = ['Ne', 'Po', 'Ut', 'St', 'Št', 'Pi', 'So'];

const currentCard = document.createElement('div');
currentCard.className = 'day-card';
currentCard.dataset.dayIndex = -1;
currentCard.innerHTML = `<div class="date" style="font-size: 1rem; font-weight: 700; margin: auto;">TERAZ</div>`;
currentCard.onclick = () => updateView({ dayIndex: -1 });
forecastCarousel.appendChild(currentCard);

for (let i = 0; i < FORECAST_DAYS; i++) {
const date = new Date();
date.setDate(date.getDate() + i);
const dayStr = i === 0 ? 'Dnes' : `${days[date.getDay()]} ${date.getDate().toString().padStart(2, '0')}.${(date.getMonth() + 1).toString().padStart(2, '0')}`;

let maxTemps = [], minTemps = [], weatherCodes = [];
fullWeatherData.forEach(city => {
if(city.daily && city.daily.temperature_2m_max.length > i) {
maxTemps.push(city.daily.temperature_2m_max[i]);
minTemps.push(city.daily.temperature_2m_min[i]);
weatherCodes.push(city.daily.weather_code[i]);
}
});

if(maxTemps.length === 0) continue;

const overallMax = Math.max(...maxTemps);
const overallMin = Math.min(...minTemps);

const codeCounts = weatherCodes.reduce((acc, code) => { acc[code] = (acc[code] || 0) + 1; return acc; }, {});
const dominantCode = Object.keys(codeCounts).reduce((a, b) => codeCounts[a] > codeCounts[b] ? a : b);

const card = document.createElement('div');
card.className = 'day-card';
card.dataset.dayIndex = i;
card.innerHTML = `
<div class="date">${dayStr}</div>
<img src="${getWeatherIconUrl(dominantCode, 1)}">
<div class="temps">${Math.round(overallMax)}°/${Math.round(overallMin)}°</div>
<div class="temp-gradient" style="background: ${createFullGradient(overallMin, overallMax)};"></div>
`;
card.onclick = () => updateView({ dayIndex: i });
forecastCarousel.appendChild(card);
}
}

function updateView({ dayIndex, timeOfDay = 'day' }) {
currentView = { dayIndex, timeOfDay };

document.querySelectorAll('.day-card').forEach(c => c.classList.remove('active'));
const selectedCard = document.querySelector(`.day-card[data-day-index='${dayIndex}']`);
if(selectedCard) selectedCard.classList.add('active');

if (dayIndex === -1) {
document.querySelector('.header-container h1').textContent = `AKTUÁLNE POČASIE`;
clockElement.style.display = 'block';
forecastDateElement.style.display = 'none';
timeOfDayToggle.style.display = 'none';
if (!clockInterval) {
updateClock();
clockInterval = setInterval(updateClock, 1000);
}
} else {
if (clockInterval) { clearInterval(clockInterval); clockInterval = null; }
const date = new Date();
date.setDate(date.getDate() + dayIndex);
const days = ['Nedeľa', 'Pondelok', 'Utorok', 'Streda', 'Štvrtok', 'Piatok', 'Sobota'];
const titleDate = `${days[date.getDay()]} ${date.getDate().toString().padStart(2, '0')}.${(date.getMonth() + 1).toString().padStart(2, '0')}.${date.getFullYear()}`;

document.querySelector('.header-container h1').textContent = `PREDPOVEĎ`;
clockElement.style.display = 'none';
forecastDateElement.textContent = titleDate;
forecastDateElement.style.display = 'block';
timeOfDayToggle.style.display = 'flex';
}

document.querySelectorAll('#time-of-day-toggle .toggle-btn').forEach(btn => btn.classList.remove('active'));
const activeToggleBtn = document.querySelector(`#time-of-day-toggle .toggle-btn[data-view='${timeOfDay}']`);
if (activeToggleBtn) activeToggleBtn.classList.add('active');

displayWeatherMarkers(dayIndex, timeOfDay);
renderSignificantEvents(fullWeatherData, dayIndex);
displayMountainWeather(dayIndex, timeOfDay);
}

function renderSignificantEvents(weatherData, dayIndex) {
const container = document.getElementById('event-details');
const dIndex = dayIndex === -1 ? 0 : dayIndex; // -1 znamená aktuálne počasie, zobrazujeme dáta pre deň 0
let events = [];

// Pomocná funkcia pre generovanie HTML upozornenia
const createEventHTML = (bgColor, iconClass, iconColor, title, textLines) => {
const textHTML = textLines.map(line => `<p style="margin: 0;">${line}</p>`).join('');
return `<div class="event-item" style="background-color: ${bgColor}; border-radius: 0.75rem;"><i class="fa-solid ${iconClass}" style="color: ${iconColor};"></i><div style="line-height: 1.4;"><p class="font-bold" style="margin-bottom: 2px;">${title}</p>${textHTML}</div></div>`;
};

const todayStr = weatherData[0]?.daily?.time[dIndex];
if (!todayStr) {
container.innerHTML = '<p style="color: white;">Žiadne dáta pre tento deň.</p>';
return;
}

// --- 1. Detekcia Vysokých teplôt (> 35°C) ---
const highTempCitiesData = weatherData
.filter(c => c.daily && c.daily.temperature_2m_max[dIndex] > 35)
.map(c => {
let firstHour = -1, lastHour = -1;
for (let j = 0; j < 24; j++) {
const hourStr = `${todayStr}T${j.toString().padStart(2, '0')}:00`;
const hourIndex = c.hourly.time.indexOf(hourStr);
if (hourIndex !== -1 && c.hourly.temperature_2m[hourIndex] > 35) {
if (firstHour === -1) firstHour = j;
lastHour = j;
}
}
return { name: c.name, firstHour, lastHour, temp_max: c.daily.temperature_2m_max[dIndex] };
});

if (highTempCitiesData.length > 0) {
const cityNames = highTempCitiesData.map(c => `${c.name} (${Math.round(c.temp_max)}°C)`).join(', ');
const firstHour = Math.min(...highTempCitiesData.map(c => c.firstHour).filter(h => h !== -1));
const lastHour = Math.max(...highTempCitiesData.map(c => c.lastHour).filter(h => h !== -1));
const textLines = [
`V lokalitách: ${cityNames}`,
`od ${firstHour}:00 do ${lastHour + 1}:00`
];
events.push(createEventHTML('rgba(239, 68, 68, 0.2)', 'fa-temperature-full', 'rgb(239, 68, 68)', 'Vysoké teploty', textLines));
}

// --- 2. Detekcia Búrok ---
const stormCitiesData = weatherData
.filter(c => c.daily?.thunderstorm_risk?.[dIndex])
.map(c => {
let firstHour = -1, lastHour = -1;
for (let j = 0; j < 24; j++) {
const hourStr = `${todayStr}T${j.toString().padStart(2, '0')}:00`;
const hourIndex = c.hourly.time.indexOf(hourStr);
if (hourIndex !== -1 && c.hourly.cape[hourIndex] > 500 && c.hourly.precipitation_probability[hourIndex] > 40) {
if (firstHour === -1) firstHour = j;
lastHour = j;
}
}
return { name: c.name, firstHour, lastHour };
});

if (stormCitiesData.length > 0) {
const cityNames = stormCitiesData.map(c => c.name).join(', ');
const firstHour = Math.min(...stormCitiesData.map(c => c.firstHour).filter(h => h !== -1));
const lastHour = Math.max(...stormCitiesData.map(c => c.lastHour).filter(h => h !== -1));
const textLines = [
`V lokalitách: ${cityNames}`,
`od ${firstHour}:00 do ${lastHour + 1}:00`
];
events.push(createEventHTML('rgba(234, 179, 8, 0.2)', 'fa-bolt', 'rgb(234, 179, 8)', 'Možnosť búrok', textLines));
}

// --- 3. Detekcia Silného vetra (> 50 km/h) ---
const strongWindCitiesData = weatherData
.filter(c => c.daily && c.daily.wind_gusts_10m_max[dIndex] > 50)
.map(c => {
let firstHour = -1, lastHour = -1;
for (let j = 0; j < 24; j++) {
const hourStr = `${todayStr}T${j.toString().padStart(2, '0')}:00`;
const hourIndex = c.hourly.time.indexOf(hourStr);
if (hourIndex !== -1 && c.hourly.wind_gusts_10m[hourIndex] > 50) {
if (firstHour === -1) firstHour = j;
lastHour = j;
}
}
return { name: c.name, gust: c.daily.wind_gusts_10m_max[dIndex], firstHour, lastHour };
});

if (strongWindCitiesData.length > 0) {
const maxGust = Math.max(...strongWindCitiesData.map(c => c.gust));
let windText, bgColor, iconColor;
if (maxGust > 100) {
windText = "Veľké nebezpečenstvo"; bgColor = "rgba(147, 51, 234, 0.2)"; iconColor = "rgb(147, 51, 234)";
} else if (maxGust > 75) {
windText = "Nebezpečenstvo"; bgColor = "rgba(239, 68, 68, 0.2)"; iconColor = "rgb(239, 68, 68)";
} else {
windText = "Veterné počasie"; bgColor = "rgba(107, 114, 128, 0.2)"; iconColor = "rgb(107, 114, 128)";
}
const cityNames = strongWindCitiesData.map(c => c.name).join(', ');
const firstHour = Math.min(...strongWindCitiesData.map(c => c.firstHour).filter(h => h !== -1));
const lastHour = Math.max(...strongWindCitiesData.map(c => c.lastHour).filter(h => h !== -1));
const textLines = [
`Nárazy až do ${Math.round(maxGust)} km/h`,
`V lokalitách: ${cityNames}`,
`od ${firstHour}:00 do ${lastHour + 1}:00`
];
events.push(createEventHTML(bgColor, 'fa-wind', iconColor, windText, textLines));
}

// --- Zobrazenie udalostí ---
if (events.length > 0) {
container.innerHTML = `<div class="flex flex-col gap-2">${events.join('')}</div>`;
} else {
container.innerHTML = `<p style="font-size: 0.875rem; color: #ffffff; display: flex; align-items: center; gap: 10px;"><i class="fa-solid fa-circle-check" style="color: #2ecc71; font-size: 1.2rem;"></i><span>Pre tento deň sa neočakávajú žiadne významné javy.</span></p>`;
}
}


function displayMountainWeather(dayIndex, timeOfDay) {
const dIndex = dayIndex === -1 ? 0 : dayIndex;
const data1500 = window.mountainData1500?.daily;
const data2500 = window.mountainData2500?.daily;
let html = '';

const isNight = timeOfDay === 'night' || (dayIndex === -1 && !fullWeatherData[0]?.current?.is_day);

if (data1500 && data1500.temperature_2m_max.length > dIndex) {
const iconUrl = getWeatherIconUrl(data1500.weather_code[dIndex], !isNight);
html += `<div class="altitude-level"><img src="${iconUrl}" alt="Počasie 1500m"> <span>1500 m:</span> ${data1500.temperature_2m_max[dIndex].toFixed(1)}°C / ${data1500.temperature_2m_min[dIndex].toFixed(1)}°C</div>`;
}
if (data2500 && data2500.temperature_2m_max.length > dIndex) {
const iconUrl = getWeatherIconUrl(data2500.weather_code[dIndex], !isNight);
html += `<div class="altitude-level"><img src="${iconUrl}" alt="Počasie 2500m"> <span>2500 m:</span> ${data2500.temperature_2m_max[dIndex].toFixed(1)}°C / ${data2500.temperature_2m_min[dIndex].toFixed(1)}°C</div>`;
}
mountainDetails.innerHTML = html || '<p>Dáta pre hory nie sú dostupné.</p>';
}

function updateClock() {
const currentCard = document.querySelector('.day-card[data-day-index="-1"]');
if (currentCard && currentCard.classList.contains('active')) {
clockElement.textContent = new Date().toLocaleTimeString('sk-SK', {hour:'2-digit', minute:'2-digit'});
}
}

async function initializeMap() {
loader.classList.remove('hidden');

fullWeatherData = await Promise.all(cities.map(getWeatherData));

const [mountainPromise1500, mountainPromise2500] = await Promise.all([
getMountainWeatherData(48.943, 19.591, 1500), // Chopok area
getMountainWeatherData(49.195, 20.213, 2500) // Lomnický štít area
]);

window.mountainData1500 = mountainPromise1500;
window.mountainData2500 = mountainPromise2500;

renderForecastCarousel();
updateView({ dayIndex: -1 });
loader.classList.add('hidden');

const svg = document.getElementById('slovakia-svg');
const originalViewBox = svg.getAttribute('viewBox');
const backButton = document.getElementById('back-to-map-btn');
let isZoomed = false;

document.querySelectorAll('svg path').forEach(path => {
path.addEventListener('click', () => {
if (window.innerWidth > 768) return;

isZoomed = true;
activeRegionId = path.id;
const bbox = path.getBBox();
const padding = 20;

svg.setAttribute('viewBox', `${bbox.x - padding} ${bbox.y - padding} ${bbox.width + padding*2} ${bbox.height + padding*2}`);

document.querySelectorAll('svg path').forEach(p => {
p.style.opacity = p.id === activeRegionId ? '1' : '0';
});

updateView(currentView);
backButton.classList.add('visible');
});
});

backButton.addEventListener('click', () => {
svg.setAttribute('viewBox', originalViewBox);
document.querySelectorAll('svg path').forEach(p => {
p.style.opacity = '1';
});

backButton.classList.remove('visible');
isZoomed = false;
activeRegionId = null;
updateView(currentView);
});

// Opravená logika volania updateMarkerPositions
const observer = new MutationObserver((mutations) => {
mutations.forEach(mutation => {
if (mutation.attributeName === 'viewBox') {
updateMarkerPositions();
}
});
});

observer.observe(svg, { attributes: true });

// Initial call
updateMarkerPositions();
}

// Weather Animation
let animationFrameId;
function startWeatherAnimation(weatherCode) {
if (animationFrameId) {
cancelAnimationFrame(animationFrameId);
}
const ctx = animationCanvas.getContext('2d');
const particles = [];
let particleType = 'none';
const code = parseInt(weatherCode);

if ([51, 53, 55, 61, 63, 65, 80, 81, 82].includes(code)) {
particleType = 'rain';
} else if ([71, 73, 75, 85, 86].includes(code)) {
particleType = 'snow';
}

if (particleType === 'none') {
ctx.clearRect(0, 0, animationCanvas.width, animationCanvas.height);
return;
}

const resizeCanvas = () => {
animationCanvas.width = animationCanvas.offsetWidth;
animationCanvas.height = animationCanvas.offsetHeight;
};
resizeCanvas();
window.addEventListener('resize', resizeCanvas);

let particleCount = 100;

for (let i = 0; i < particleCount; i++) {
particles.push({
x: Math.random() * animationCanvas.width,
y: Math.random() * animationCanvas.height,
length: particleType === 'rain' ? Math.random() * 20 + 10 : 0,
speed: Math.random() * 3 + 2,
radius: particleType === 'snow' ? Math.random() * 2 + 1 : 0,
opacity: Math.random() * 0.5 + 0.2
});
}

function animate() {
ctx.clearRect(0, 0, animationCanvas.width, animationCanvas.height);

particles.forEach((p) => {
p.y += p.speed;
if (p.y > animationCanvas.height) {
p.y = 0;
p.x = Math.random() * animationCanvas.width;
}

if (particleType === 'rain') {
ctx.beginPath();
ctx.moveTo(p.x, p.y);
ctx.lineTo(p.x, p.y + p.length);
ctx.strokeStyle = 'rgba(174,194,224,0.5)';
ctx.lineWidth = 1;
ctx.stroke();
} else if (particleType === 'snow') {
ctx.beginPath();
ctx.arc(p.x, p.y, p.radius, 0, Math.PI * 2);
ctx.fillStyle = `rgba(255, 255, 255, ${p.opacity})`;
ctx.fill();
}
});

animationFrameId = requestAnimationFrame(animate);
}
animate();
}

// Event Listeners
modalCloseBtn.addEventListener('click', closeModal);
modal.addEventListener('click', (e) => { if(e.target === modal) closeModal(); });
headerContainer.addEventListener('click', (e) => {
if (!e.target.closest('.view-toggle')) {
updateView({ dayIndex: -1 });
}
});

carouselLeft.addEventListener('click', () => { forecastCarousel.scrollBy({ left: -300, behavior: 'smooth' }); });
carouselRight.addEventListener('click', () => { forecastCarousel.scrollBy({ left: 300, behavior: 'smooth' }); });

timeOfDayToggle.addEventListener('click', (e) => {
const button = e.target.closest('.toggle-btn');
if (button) {
const timeOfDay = button.dataset.view;
updateView({ dayIndex: currentView.dayIndex, timeOfDay: timeOfDay });
}
});

initializeMap();
});
</script>

</body>
</html>

<!DOCTYPE html>
<html lang="sk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aktuálna situácia počasia</title>
</head>
<body>
    <h1>Aktuálna situácia počasia</h1>
    <p id="weather-description">Načítavam...</p>

    <script>
        // URL pre získanie aktuálnych údajov o počasí z OpenMeteo API (pre Bratislavu)
        const url = 'https://api.open-meteo.com/v1/forecast?latitude=48.1482&longitude=17.1067&current_weather=true&hourly=temperature_2m,humidity_2m,precipitation_sum,wind_speed_10m,pressure_msl';

        // Načítanie údajov z API
        fetch(url)
            .then(response => {
                if (!response.ok) {
                    throw new Error('Chyba pri načítaní údajov z API');
                }
                return response.json();
            })
            .then(data => {
                const weather = data.current_weather;
                const pressure = weather.pressure_msl;
                const temperature = weather.temperature_2m;
                const humidity = weather.humidity_2m;
                const wind_speed = weather.wind_speed_10m;

                // Dynamické generovanie popisu situácie podľa aktuálnych podmienok
                let description = "Aktuálna situácia počasia: ";

                // Popis tlakovej níže alebo výše
                if (pressure < 1013) {
                    description += "Po prednej strane rozsiahlej tlakovej níže so stredom severne od Britských ostrovov prúdi od juhozápadu až západu do našej oblasti teplý a vlhký vzduch. ";
                } else if (pressure > 1020) {
                    description += "V oblasti je vysoký tlak, čo naznačuje stabilné a suché počasie. ";
                } else {
                    description += "Tlak je v normálnych medziach, počasie je vyvážené. ";
                }

                // Teplota a vlhkosť
                if (temperature > 25 && humidity > 60) {
                    description += "Počasie je teplé a vlhké, čo môže podporovať vznik búrok. ";
                } else if (temperature < 10) {
                    description += "Počasie je chladné a suché, búrky nie sú pravdepodobné. ";
                } else {
                    description += "Počasie je mierne, bez výrazných zmien. ";
                }

                // Vietor
                if (wind_speed > 15) {
                    description += "Vietor je silný, čo môže ovplyvniť komfort a pohyb vzduchu. ";
                } else {
                    description += "Vietor je slabý, počasie je pokojné. ";
                }

                // Zobrazenie popisu na stránke
                document.getElementById('weather-description').textContent = description;
            })
            .catch(error => {
                console.error("Chyba pri získavaní údajov:", error);
                document.getElementById('weather-description').textContent = "Nepodarilo sa načítať údaje o počasí. Skúste to znova.";
            });
    </script>
</body>
</html>

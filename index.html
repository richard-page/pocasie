<!DOCTYPE html>
<html lang="sk">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Predpoveď počasia</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    :root {
      --glass: rgba(255, 255, 255, .08);
      --glass-b: rgba(255, 255, 255, .18);
      --hero-h: 34vh; /* mobily */
      --hero-icon: 76px; /* veľkosť ikony */
      --hero-temp: 5.6rem; /* veľkosť čísla teploty */
      --hero-pad-t: 1.6rem; /* horný padding */
      --hero-pad-b: 1.2rem; /* spodný padding */
    }
    @media (min-width:480px) {
      :root { --hero-h: 36vh; --hero-icon: 86px; --hero-temp: 6rem; }
    }
    @media (min-width:768px) {
      :root { --hero-h: 38vh; --hero-icon: 96px; --hero-temp: 6.2rem; }
    }

    * { box-sizing: border-box }
    html, body { width: 100%; max-width: 100%; overflow-x: hidden; }
    body {
      margin: 0; color: #fff;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
      background: #0e4d73;
    }
    .glass { background: var(--glass); border: 1px solid var(--glass-b); backdrop-filter: blur(12px); border-radius: 1rem; }
    .mono { font-feature-settings: "tnum" 1, "lnum" 1; }

    .hero {
      position: relative; isolation: isolate;
      display: flex; flex-direction: column; align-items: center; justify-content: center;
      min-height: var(--hero-h); width: 100%;
      padding: var(--hero-pad-t) 1rem var(--hero-pad-b);
      text-align: center; overflow: hidden;
    }

    body[data-mode="day"] .hero { background: #176ea9; }
    body[data-mode="night"] .hero { background: #08273b; }
    body[data-mode="night"] .hero::after {
      content: ""; position: absolute; inset: 0; z-index: -1; pointer-events: none; opacity: .45;
      background: radial-gradient(2px 2px at 12% 18%, #fff 40%, transparent 42%),
        radial-gradient(1.5px 1.5px at 35% 28%, #fff 45%, transparent 47%);
    }
    #heroPlace { font-size: 1.18rem; font-weight: 600; opacity: .95; letter-spacing: .2px; }
    #heroIcon { width: var(--hero-icon); height: var(--hero-icon); margin: .65rem auto .35rem; font-size: calc(var(--hero-icon) - 8px); line-height: var(--hero-icon); }
    #heroTemp { font-size: var(--hero-temp); line-height: 1; font-weight: 700; letter-spacing: 1px; }

    .sticky-header { position: sticky; top: 0; z-index: 40; }
    .tbl th, .tbl td { padding: .65rem .75rem; white-space: nowrap; }
    .tbl thead th { position: sticky; top: 0; background: rgba(0, 0, 0, .15); backdrop-filter: blur(6px); }
    .val-bold { font-weight: 600; color: #fff; }

    /* Mobil akordeón */
    .card { border-radius: 1rem; border: 1px solid var(--glass-b); background: var(--glass); }
    .acc-btn { width: 100%; background: none; border: 0; cursor: pointer; padding: .9rem .95rem; display: flex; align-items: center; gap: .75rem; text-align: left; color: #fff; }
    .acc-head { flex: 1; min-width: 0; }
    .acc-right { margin-left: auto; display: flex; gap: .5rem; white-space: nowrap; }
    .chev { transition: transform .22s ease; }
    .acc-btn[aria-expanded="true"] .chev { transform: rotate(180deg); }
    .panel-wrap { height: 0; overflow: hidden; transition: height .22s ease; }
    .panel { padding: 0 .95rem .95rem .95rem; }
    /* ďalšie štýly ... */

  </style>
</head>
<body data-mode="day">

<!-- HERO (skrátené) -->
<section class="hero">
  <div id="heroPlace">—</div>
  <div id="heroIcon" aria-hidden="true"></div>
  <div id="heroTemp" class="mono">--°</div>
</section>

<header class="sticky-header w-full glass">
  <div class="w-full px-3 md:px-6 py-3 flex items-center gap-3">
    <div class="font-semibold">Predpoveď počasia</div>
    <div class="flex-1"></div>
  </div>
</header>

<main id="refreshContainer" class="w-full px-2 md:px-4 lg:px-6 py-4 space-y-4">
  <!-- obsah predpovede počasia... -->
</main>

<script>
// Implementácia Median JavaScript Bridge na Android

// Požiadanie o povolenie pre lokalizačné služby
function requestLocationPermission() {
  if (navigator.userAgent.includes('MedianAndroid')) {
    median.android.geoLocation.promptLocationServices(); // Povolenie lokalizačných služieb
  }
}

// Kontrola, či sú lokalizačné služby povolené
function checkLocationServices() {
  if (navigator.userAgent.includes('MedianAndroid')) {
    median.android.geoLocation.isLocationServicesEnabled({
      'callback': function(response) {
        if (response.enabled) {
          console.log('Lokalizačné služby sú povolené');
        } else {
          console.log('Lokalizačné služby nie sú povolené');
        }
      }
    });
  }
}

// Zavolaj median_geolocation_ready, keď sú lokalizačné služby inicializované
function median_geolocation_ready() {
  navigator.geolocation.getCurrentPosition(locationSuccess, locationError, locationOptions);
}

// Požiadanie o povolenie pri behu (Android)
requestLocationPermission();

// Spustiť geolokáciu, ak je pripravená
if (!navigator.userAgent.includes('MedianIOS')) {
  median_geolocation_ready();
}

// Zvyšok kódu pre počasie, predpoveď, atď.

</script>

</body>
</html>

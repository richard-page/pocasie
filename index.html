<!DOCTYPE html>
<html lang="sk">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Predpoveƒè poƒçasia</title>
<script src="https://cdn.tailwindcss.com"></script>
<style>
  :root{
    --glass: rgba(255,255,255,.08);
    --glass-b: rgba(255,255,255,.18);
    --hero-icon: 60px;
    --hero-temp: 4.5rem;
  }
  
  /* Nastavenie farby pozadia pre mobil */
  @media (max-width: 640px) {
    .glass { background:rgba(255,255,255,.12); border:none; }
    .card { background:rgba(255,255,255,.12); border:none; }
  }

  /* üî• EXTR√âMNA OPRAVA SCROLL BARU a MARGINOV */
  
  /* Zabezpeƒçuje spr√°vny box-model pre v≈°etky elementy */
  * { 
      box-sizing: border-box !important;
  }

  /* üî• EXTR√âMNA OPRAVA: Preb√≠janie v≈°etk√Ωch syst√©mov√Ωch marginov a paddingov */
  html, body { 
      margin: 0 !important; 
      padding: 0 !important; 
      width: 100% !important; 
      max-width: 100% !important;
      /* D√îLE≈ΩIT√â: Zabezpeƒçuje, ≈æe sa neobjav√≠ horizont√°lny scrollbar na celom dokumente */
      overflow-x: hidden !important;
  }

  /* === SCROLLBAR OFF === */
  /* Skrytie posuvnej li≈°ty (pre WebKit/Chrome/Safari a in√©) */
  body::-webkit-scrollbar, 
  html::-webkit-scrollbar,
  #refreshContainer::-webkit-scrollbar {
    display: none !important;           
    width: 0 !important;                 
    background: transparent !important;
  }
  
  /* Skrytie posuvnej li≈°ty (pre IE, Edge a Firefox) */
  body, html, #refreshContainer {
    -ms-overflow-style: none !important;  /* IE and Edge */
    scrollbar-width: none !important;     /* Firefox */
  }

  /* Zvy≈°ok k√≥dov√©ho bloku bez zmeny */
  
  .glass{ background:var(--glass); border:1px solid var(--glass-b); backdrop-filter:blur(12px); border-radius:1rem }
  .mono{ font-feature-settings:"tnum" 1,"lnum" 1 }
  
  .hero{
    position:relative; isolation:isolate;
    display:flex; flex-direction:column; align-items:center; justify-content:center;
    width:100%;
    padding:0.75rem 1rem 0.5rem; 
    text-align:center;
    overflow:hidden
  }
  
  body[data-mode="day"] .hero{ background:#176ea9 }
  body[data-mode="night"] .hero{ background:#08273b }
  body[data-mode="night"] .hero::after{
    content:""; position:absolute; inset:0; z-index:-1; pointer-events:none; opacity:.45;
    background:
      radial-gradient(2px 2px at 12% 18%, #fff 40%, transparent 42%),
      radial-gradient(1.5px 1.5px at 35% 28%, #fff 45%, transparent 47%),
      radial-gradient(1.8px 1.8px at 66% 14%, #fff 45%, transparent 47%),
      radial-gradient(1.8px 1.8px at 82% 40%, #fff 45%, transparent 47%),
      radial-gradient(1.8px 1.8px at 18% 65%, #fff 45%, transparent 47%),
      radial-gradient(1.8px 1.8px at 58% 73%, #fff 45%, transparent 47%),
      radial-gradient(1.8px 1.8px at 88% 78%, #fff 45%, transparent 47%),
      radial-gradient(1.6px 1.6px at 44% 86%, #fff 45%, transparent 47%)
  }
  #heroPlace{ 
      font-size:1.18rem; font-weight:600; opacity:.95; letter-spacing:.2px; 
      line-height:1.2; 
      white-space:nowrap; 
      overflow:hidden; 
      text-overflow:ellipsis; 
      max-width:100%;
  }
  #heroIcon{ width:var(--hero-icon); height:var(--hero-icon); margin:.3rem auto .1rem; font-size:calc(var(--hero-icon) - 8px); line-height:var(--hero-icon) }
  #heroTemp{ font-size:var(--hero-temp); line-height:1; font-weight:700; letter-spacing:1px } 

  .sticky-header{ position:sticky; top:0; z-index:40 }
  .tbl th,.tbl td{ padding:.65rem .75rem; white-space:nowrap }
  .tbl thead th{ position:sticky; top:0; background:rgba(0,0,0,.15); backdrop-filter:blur(6px) }
  .val-bold{ font-weight:600; color:#fff }

  .tabs-nav{ display:grid; grid-template-columns:1fr 1fr; background:rgba(0,0,0,.2); padding:.25rem; border-radius:1rem; }
  .tab-btn{ padding:.65rem 1rem; border-radius:.75rem; font-weight:600; text-align:center; background:none; border:0; color:#fff; cursor:pointer; transition:background .2s ease }
  .tab-btn[aria-selected="true"]{ background:#fff; color:#0b1720; box-shadow:0 2px 8px rgba(0,0,0,.2) }
  .tab-content{ padding-top:1rem }
  .tab-content.hidden{ display:none }

  .card{ border-radius:1rem; border:1px solid var(--glass-b); background:var(--glass) }
  .acc-btn{ width:100%; background:none; border:0; cursor:pointer; padding:.9rem .95rem; display:flex; align-items:center; gap:.75rem; text-align:left; color:#fff }
  .acc-head{ flex:1; min-width:0 }
  .acc-right{ margin-left:auto; display:flex; gap:.5rem; white-space:nowrap }
  .chev{ transition:transform .22s ease }
  .acc-btn[aria-expanded="true"] .chev{ transform:rotate(180deg) }
  .panel-wrap{ height:0; overflow:hidden; transition:height .22s ease }
  .panel{ padding:0 .95rem .95rem .95rem }
  
  .suggest-wrap{ position:relative; }
  .suggest{
    position:absolute; top:100%; left:0; right:0; margin-top:.35rem;
    background:#fff; color:#0b1720; border-radius:.75rem; border:1px solid rgba(0,0,0,.08);
    box-shadow:0 10px 25px rgba(0,0,0,.25); overflow:auto; max-height:18rem; z-index:50;
  }
  .suggest.hidden{ display:none }
  .suggest-item{ display:flex; align-items:center; gap:.6rem; padding:.55rem .75rem; cursor:pointer }
  .suggest-item:hover,.suggest-item[aria-selected="true"]{ background:#eef6ff }
  .flag{ width:18px; flex:0 0 18px }
  .s-meta{ font-size:.82rem; color:#425466 }
  .s-name{ font-weight:600 }

  #ptr{ position:sticky; top:0; height:0; overflow:visible; z-index:45; }
  #ptr .spinner{
    margin:.35rem auto 0; width:34px; height:34px; border-radius:9999px;
    border:4px solid rgba(255,255,255,.28); border-top-color:#fff;
    animation:spin 1s linear infinite; opacity:0; transform:scale(.8); transition:opacity .15s ease, transform .15s ease;
  }
  #ptr.active .spinner{ opacity:1; transform:scale(1) }
  @keyframes spin{ to{ transform:rotate(360deg) } }
</style>
</head>
<body data-mode="day">

<section class="hero">
  <div id="heroPlace">‚Äî</div>
  <div id="heroIcon" aria-hidden="true"></div>
  <div id="heroTemp" class="mono">--¬∞</div>
</section>

<header class="sticky-header w-full glass">
  <div class="w-full px-3 md:px-6 pt-3 pb-2 flex items-center justify-center">
    <h1 class="text-xl font-bold text-white tracking-wider text-center">PREDPOVEƒé POƒåASIA</h1>
  </div>
  
  <div class="w-full px-3 md:px-6 pb-3 flex items-center justify-center">
    <div class="suggest-wrap w-full sm:w-[560px] max-w-full mx-auto">
      <form id="searchForm" class="grid grid-cols-1 sm:grid-cols-[1fr_auto] gap-2" novalidate>
        <input id="cityInput" placeholder="Zadaj mesto (napr. Levice)"
              class="w-full px-4 py-2.5 rounded-lg bg-white/20 border border-white/20 placeholder-white/70 focus:outline-none focus:ring-2 focus:ring-white/50"
              autocomplete="off" inputmode="search" type="search" />
        <button id="searchBtn" type="submit"
                class="w-full sm:w-auto inline-flex items-center justify-center px-4 md:px-5 py-2.5 rounded-lg bg-white/30 hover:bg-white/40 text-white font-medium">
          Hƒæada≈•
        </button>
      </form>
      <div id="citySuggestions" class="suggest hidden"></div>
    </div>
  </div>
</header>

<div id="ptr"><div class="spinner"></div></div>

<main id="refreshContainer" class="w-full px-2 md:px-4 lg:px-6 py-0.5 space-y-1">

  <section class="glass p-3 lg:p-4">
    
    <div class="tabs-nav mb-4">
        <button id="tab24hBtn" class="tab-btn" aria-selected="true" data-tab="hourly">24 hod√≠n</button>
        <button id="tab10dBtn" class="tab-btn" aria-selected="false" data-tab="daily">10 dn√≠</button>
    </div>

    <div id="hourlyContent" class="tab-content" data-tab-content="hourly">
        <div class="hidden lg:block overflow-x-auto min-h-0">
            <table class="tbl w-full h-full min-w-[900px] text-sm">
                <thead>
                    <tr class="text-white/90">
                        <th>ƒåas</th><th>Poƒçasie</th><th>Teplota</th><th>Rosn√Ω bod</th>
                        <th>Zr√°≈æky</th><th>Vietor</th><th>Oblaƒçnos≈•</th><th>Tlak</th>
                    </tr>
                </thead>
                <tbody id="hourRows" class="divide-y divide-white/10"></tbody>
            </table>
        </div>
        <div id="hourList" class="block lg:hidden p-1 space-y-2"></div>
    </div>
    
    <div id="dailyContent" class="tab-content hidden" data-tab-content="daily">
        <div id="dailyList" class="p-1 space-y-2"></div>
    </div>

  </section>

  <section class="grid grid-cols-1 lg:grid-cols-2 gap-1">
    
    <div class="glass">
      <div class="px-4 py-3 border-b border-white/20"><h2 class="text-lg font-semibold">Presne pred rokom</h2></div>
      <div id="historyExact" class="p-4 text-sm text-center italic text-white/80">‚Äî</div>
    </div>
    
    <div class="glass">
      <div class="px-4 py-3 border-b border-white/20"><h2 class="text-lg font-semibold">Aktu√°lne mapy a radary</h2></div>
      <div class="p-4 text-sm space-y-3">
        <a href="#" target="_blank" class="block bg-white/10 hover:bg-white/20 p-3 rounded-lg flex items-center justify-between">
          <span class="font-medium">Zr√°≈ækov√Ω radar (Slovensko)</span>
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5 opacity-70"><polyline points="9 10 4 15 9 20"></polyline><path d="M20 4v7a4 4 0 0 1-4 4H4"></path></svg>
        </a>
        <a href="#" target="_blank" class="block bg-white/10 hover:bg-white/20 p-3 rounded-lg flex items-center justify-between">
          <span class="font-medium">Satelitn√° sn√≠mka (Eur√≥pa)</span>
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5 opacity-70"><polyline points="9 10 4 15 9 20"></polyline><path d="M20 4v7a4 4 0 0 1-4 4H4"></path></svg>
        </a>
      </div>
    </div>

  </section>

  <section id="accContainer" class="space-y-1 pb-4"></section>

</main>

<script>
  // Zastupn√Ω JS k√≥d pre uk√°≈æku, funkcie ako tabs, accordion, API volania, atƒè. by boli tu.
  // Ponechan√Ω JS k√≥d z predo≈°lej verzie

  document.addEventListener('DOMContentLoaded', () => {
    // 1. Logika prep√≠nania tabov (24 hod√≠n / 10 dn√≠)
    const tabNav = document.querySelector('.tabs-nav');
    if (tabNav) {
        tabNav.addEventListener('click', (e) => {
            const button = e.target.closest('.tab-btn');
            if (!button) return;

            const targetTab = button.dataset.tab;
            const allButtons = tabNav.querySelectorAll('.tab-btn');
            const allContent = document.querySelectorAll('.tab-content');

            allButtons.forEach(btn => btn.setAttribute('aria-selected', 'false'));
            button.setAttribute('aria-selected', 'true');

            allContent.forEach(content => {
                if (content.dataset.tabContent === targetTab) {
                    content.classList.remove('hidden');
                } else {
                    content.classList.add('hidden');
                }
            });
        });
    }

    // 2. Simul√°cia akorde√≥nu (pre pr√≠pad, ≈æe by ste pridali d√°ta do #accContainer)
    const accContainer = document.getElementById('accContainer');
    if (accContainer) {
        accContainer.addEventListener('click', (e) => {
            const button = e.target.closest('.acc-btn');
            if (!button) return;

            const isExpanded = button.getAttribute('aria-expanded') === 'true';
            const panelWrap = button.nextElementSibling;
            
            button.setAttribute('aria-expanded', String(!isExpanded));

            if (panelWrap && panelWrap.classList.contains('panel-wrap')) {
                if (!isExpanded) {
                    // Pre spr√°vnu v√Ω≈°ku akorde√≥nu
                    panelWrap.style.height = panelWrap.scrollHeight + 'px';
                } else {
                    panelWrap.style.height = '0';
                }
            }
        });
    }
    
    // 3. PULL-TO-REFRESH logika (Placeholder)
    const refreshContainer = document.getElementById('refreshContainer');
    const ptrElement = document.getElementById('ptr');
    let startY = 0;
    let currentY = 0;
    let isTouching = false;

    if (refreshContainer && ptrElement) {
        refreshContainer.addEventListener('touchstart', (e) => {
            // Kontrola, ƒçi je scrollbar √∫plne hore
            if (refreshContainer.scrollTop === 0) {
                startY = e.touches[0].clientY;
                isTouching = true;
            }
        }, { passive: true });

        refreshContainer.addEventListener('touchmove', (e) => {
            if (!isTouching || refreshContainer.scrollTop !== 0) return;

            currentY = e.touches[0].clientY;
            const diff = currentY - startY;

            if (diff > 0 && diff < 100) { // Limit pre ≈•ahanie
                e.preventDefault();
                ptrElement.classList.add('active');
            } else if (diff >= 100) {
                 e.preventDefault();
                 // Prichystan√© na refresh
            }
        }, { passive: false }); // False, aby sa dalo pou≈æi≈• preventDefault

        refreshContainer.addEventListener('touchend', () => {
            isTouching = false;
            // Ak diff > prah, spusti≈• refresh anim√°ciu a stiahnu≈• d√°ta
            ptrElement.classList.remove('active');
        });
    }
  });
</script>

</body>
</html>
